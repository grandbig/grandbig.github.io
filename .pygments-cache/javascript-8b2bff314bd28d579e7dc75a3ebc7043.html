<div class="highlight"><pre><span class="err">#</span> <span class="nx">MAXMEMORY</span> <span class="nx">POLICY</span><span class="o">:</span> <span class="nx">how</span> <span class="nx">Redis</span> <span class="nx">will</span> <span class="nx">select</span> <span class="nx">what</span> <span class="nx">to</span> <span class="nx">remove</span> <span class="nx">when</span> <span class="nx">maxmemory</span>
<span class="err">#</span> <span class="nx">is</span> <span class="nx">reached</span><span class="p">.</span> <span class="nx">You</span> <span class="nx">can</span> <span class="nx">select</span> <span class="nx">among</span> <span class="nx">five</span> <span class="nx">behaviors</span><span class="o">:</span>
<span class="err">#</span>
<span class="err">#</span> <span class="kr">volatile</span><span class="o">-</span><span class="nx">lru</span> <span class="o">-&gt;</span> <span class="nx">remove</span> <span class="nx">the</span> <span class="nx">key</span> <span class="kd">with</span> <span class="nx">an</span> <span class="nx">expire</span> <span class="nx">set</span> <span class="nx">using</span> <span class="nx">an</span> <span class="nx">LRU</span> <span class="nx">algorithm</span>
<span class="err">#</span> <span class="nx">allkeys</span><span class="o">-</span><span class="nx">lru</span> <span class="o">-&gt;</span> <span class="nx">remove</span> <span class="nx">any</span> <span class="nx">key</span> <span class="nx">accordingly</span> <span class="nx">to</span> <span class="nx">the</span> <span class="nx">LRU</span> <span class="nx">algorithm</span>
<span class="err">#</span> <span class="kr">volatile</span><span class="o">-</span><span class="nx">random</span> <span class="o">-&gt;</span> <span class="nx">remove</span> <span class="nx">a</span> <span class="nx">random</span> <span class="nx">key</span> <span class="kd">with</span> <span class="nx">an</span> <span class="nx">expire</span> <span class="nx">set</span>
<span class="err">#</span> <span class="nx">allkeys</span><span class="o">-</span><span class="nx">random</span> <span class="o">-&gt;</span> <span class="nx">remove</span> <span class="nx">a</span> <span class="nx">random</span> <span class="nx">key</span><span class="p">,</span> <span class="nx">any</span> <span class="nx">key</span>
<span class="err">#</span> <span class="kr">volatile</span><span class="o">-</span><span class="nx">ttl</span> <span class="o">-&gt;</span> <span class="nx">remove</span> <span class="nx">the</span> <span class="nx">key</span> <span class="kd">with</span> <span class="nx">the</span> <span class="nx">nearest</span> <span class="nx">expire</span> <span class="nx">time</span> <span class="p">(</span><span class="nx">minor</span> <span class="nx">TTL</span><span class="p">)</span>
<span class="err">#</span> <span class="nx">noeviction</span> <span class="o">-&gt;</span> <span class="nx">don</span><span class="err">â€˜</span><span class="nx">t</span> <span class="nx">expire</span> <span class="nx">at</span> <span class="nx">all</span><span class="p">,</span> <span class="nx">just</span> <span class="k">return</span> <span class="nx">an</span> <span class="nx">error</span> <span class="nx">on</span> <span class="nx">write</span> <span class="nx">operations</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">Note</span><span class="o">:</span> <span class="kd">with</span> <span class="nx">any</span> <span class="nx">of</span> <span class="nx">the</span> <span class="nx">above</span> <span class="nx">policies</span><span class="p">,</span> <span class="nx">Redis</span> <span class="nx">will</span> <span class="k">return</span> <span class="nx">an</span> <span class="nx">error</span> <span class="nx">on</span> <span class="nx">write</span>
<span class="err">#</span>       <span class="nx">operations</span><span class="p">,</span> <span class="nx">when</span> <span class="nx">there</span> <span class="nx">are</span> <span class="nx">not</span> <span class="nx">suitable</span> <span class="nx">keys</span> <span class="k">for</span> <span class="nx">eviction</span><span class="p">.</span>
<span class="err">#</span>
<span class="err">#</span>       <span class="nx">At</span> <span class="nx">the</span> <span class="nx">date</span> <span class="nx">of</span> <span class="nx">writing</span> <span class="k">this</span> <span class="nx">commands</span> <span class="nx">are</span><span class="o">:</span> <span class="nx">set</span> <span class="nx">setnx</span> <span class="nx">setex</span> <span class="nx">append</span>
<span class="err">#</span>       <span class="nx">incr</span> <span class="nx">decr</span> <span class="nx">rpush</span> <span class="nx">lpush</span> <span class="nx">rpushx</span> <span class="nx">lpushx</span> <span class="nx">linsert</span> <span class="nx">lset</span> <span class="nx">rpoplpush</span> <span class="nx">sadd</span>
<span class="err">#</span>       <span class="nx">sinter</span> <span class="nx">sinterstore</span> <span class="nx">sunion</span> <span class="nx">sunionstore</span> <span class="nx">sdiff</span> <span class="nx">sdiffstore</span> <span class="nx">zadd</span> <span class="nx">zincrby</span>
<span class="err">#</span>       <span class="nx">zunionstore</span> <span class="nx">zinterstore</span> <span class="nx">hset</span> <span class="nx">hsetnx</span> <span class="nx">hmset</span> <span class="nx">hincrby</span> <span class="nx">incrby</span> <span class="nx">decrby</span>
<span class="err">#</span>       <span class="nx">getset</span> <span class="nx">mset</span> <span class="nx">msetnx</span> <span class="nx">exec</span> <span class="nx">sort</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">The</span> <span class="k">default</span> <span class="nx">is</span><span class="o">:</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">maxmemory</span><span class="o">-</span><span class="nx">policy</span> <span class="kr">volatile</span><span class="o">-</span><span class="nx">lru</span>
</pre></div>