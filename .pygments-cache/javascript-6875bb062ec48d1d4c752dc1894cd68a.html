<div class="highlight"><pre><span class="err">#</span> <span class="nx">Set</span> <span class="nx">the</span> <span class="nx">replication</span> <span class="nx">backlog</span> <span class="nx">size</span><span class="p">.</span> <span class="nx">The</span> <span class="nx">backlog</span> <span class="nx">is</span> <span class="nx">a</span> <span class="nx">buffer</span> <span class="nx">that</span> <span class="nx">accumulates</span>
<span class="err">#</span> <span class="nx">slave</span> <span class="nx">data</span> <span class="nx">when</span> <span class="nx">slaves</span> <span class="nx">are</span> <span class="nx">disconnected</span> <span class="k">for</span> <span class="nx">some</span> <span class="nx">time</span><span class="p">,</span> <span class="nx">so</span> <span class="nx">that</span> <span class="nx">when</span> <span class="nx">a</span> <span class="nx">slave</span>
<span class="err">#</span> <span class="nx">wants</span> <span class="nx">to</span> <span class="nx">reconnect</span> <span class="nx">again</span><span class="p">,</span> <span class="nx">often</span> <span class="nx">a</span> <span class="nx">full</span> <span class="nx">resync</span> <span class="nx">is</span> <span class="nx">not</span> <span class="nx">needed</span><span class="p">,</span> <span class="nx">but</span> <span class="nx">a</span> <span class="nx">partial</span>
<span class="err">#</span> <span class="nx">resync</span> <span class="nx">is</span> <span class="nx">enough</span><span class="p">,</span> <span class="nx">just</span> <span class="nx">passing</span> <span class="nx">the</span> <span class="nx">portion</span> <span class="nx">of</span> <span class="nx">data</span> <span class="nx">the</span> <span class="nx">slave</span> <span class="nx">missed</span> <span class="k">while</span>
<span class="err">#</span> <span class="nx">disconnected</span><span class="p">.</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">The</span> <span class="nx">biggest</span> <span class="nx">the</span> <span class="nx">replication</span> <span class="nx">backlog</span><span class="p">,</span> <span class="nx">the</span> <span class="nx">longer</span> <span class="nx">the</span> <span class="nx">time</span> <span class="nx">the</span> <span class="nx">slave</span> <span class="nx">can</span> <span class="nx">be</span>
<span class="err">#</span> <span class="nx">disconnected</span> <span class="nx">and</span> <span class="nx">later</span> <span class="nx">be</span> <span class="nx">able</span> <span class="nx">to</span> <span class="nx">perform</span> <span class="nx">a</span> <span class="nx">partial</span> <span class="nx">resynchronization</span><span class="p">.</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">The</span> <span class="nx">backlog</span> <span class="nx">is</span> <span class="nx">only</span> <span class="nx">allocated</span> <span class="nx">once</span> <span class="nx">there</span> <span class="nx">is</span> <span class="nx">at</span> <span class="nx">least</span> <span class="nx">a</span> <span class="nx">slave</span> <span class="nx">connected</span><span class="p">.</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">repl</span><span class="o">-</span><span class="nx">backlog</span><span class="o">-</span><span class="nx">size</span> <span class="mi">1</span><span class="nx">mb</span>
</pre></div>