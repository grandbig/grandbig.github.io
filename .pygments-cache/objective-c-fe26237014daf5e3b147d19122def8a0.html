<div class="highlight"><pre><span class="c1">// AppDelegate.m</span>
<span class="k">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nf">application:</span><span class="p">(</span><span class="n">UIApplication</span> <span class="o">*</span><span class="p">)</span><span class="nv">application</span> <span class="nf">didFinishLaunchingWithOptions:</span><span class="p">(</span><span class="n">NSDictionary</span> <span class="o">*</span><span class="p">)</span><span class="nv">launchOptions</span> <span class="p">{</span>
	<span class="c1">// Override point for customization after application launch.</span>
			    
	<span class="n">NSError</span><span class="o">*</span> <span class="n">configureError</span><span class="p">;</span>
	<span class="p">[[</span><span class="n">GGLContext</span> <span class="n">sharedInstance</span><span class="p">]</span> <span class="nl">configureWithError:</span> <span class="o">&amp;</span><span class="n">configureError</span><span class="p">];</span>
	<span class="n">NSAssert</span><span class="p">(</span><span class="o">!</span><span class="n">configureError</span><span class="p">,</span> <span class="s">@&quot;Error configuring Google services: %@&quot;</span><span class="p">,</span> <span class="n">configureError</span><span class="p">);</span>
						    
	<span class="p">[</span><span class="n">GIDSignIn</span> <span class="n">sharedInstance</span><span class="p">].</span><span class="n">delegate</span> <span class="o">=</span> <span class="n">self</span><span class="p">;</span>
								    
	<span class="k">return</span> <span class="n">YES</span><span class="p">;</span>
<span class="p">}</span>

<span class="o">&lt;</span><span class="err">省略</span><span class="o">&gt;</span>

<span class="o">-</span> <span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nl">application:</span><span class="p">(</span><span class="n">UIApplication</span> <span class="o">*</span><span class="p">)</span><span class="n">application</span> <span class="nl">openURL:</span><span class="p">(</span><span class="n">NSURL</span> <span class="o">*</span><span class="p">)</span><span class="n">url</span> <span class="nl">sourceApplication:</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="n">sourceApplication</span> <span class="nl">annotation:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="n">annotation</span> <span class="p">{</span>
	    
	<span class="k">return</span> <span class="p">[[</span><span class="n">GIDSignIn</span> <span class="n">sharedInstance</span><span class="p">]</span> <span class="nl">handleURL:</span><span class="n">url</span> <span class="nl">sourceApplication:</span><span class="n">sourceApplication</span> <span class="nl">annotation:</span><span class="n">annotation</span><span class="p">];</span>
<span class="p">}</span>

<span class="c1">// Google Sign-inに成功した場合に呼び出される処理</span>
<span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">signIn:</span><span class="p">(</span><span class="n">GIDSignIn</span> <span class="o">*</span><span class="p">)</span><span class="n">signIn</span> <span class="nl">didSignInForUser:</span><span class="p">(</span><span class="n">GIDGoogleUser</span> <span class="o">*</span><span class="p">)</span><span class="n">user</span> <span class="nl">withError:</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="p">)</span><span class="n">error</span> <span class="p">{</span>
	<span class="c1">// Perform any operations on signed in user here.</span>
	<span class="n">NSString</span> <span class="o">*</span><span class="n">userId</span> <span class="o">=</span> <span class="n">user</span><span class="p">.</span><span class="n">userID</span><span class="p">;</span>                  <span class="c1">// For client-side use only!</span>
	<span class="n">NSString</span> <span class="o">*</span><span class="n">idToken</span> <span class="o">=</span> <span class="n">user</span><span class="p">.</span><span class="n">authentication</span><span class="p">.</span><span class="n">idToken</span><span class="p">;</span> <span class="c1">// Safe to send to the server</span>
	<span class="n">NSString</span> <span class="o">*</span><span class="n">name</span> <span class="o">=</span> <span class="n">user</span><span class="p">.</span><span class="n">profile</span><span class="p">.</span><span class="n">name</span><span class="p">;</span>
	<span class="n">NSString</span> <span class="o">*</span><span class="n">email</span> <span class="o">=</span> <span class="n">user</span><span class="p">.</span><span class="n">profile</span><span class="p">.</span><span class="n">email</span><span class="p">;</span>
						    
	<span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;userId: %@, idToken: %@, name: %@, email: %@&quot;</span><span class="p">,</span> <span class="n">userId</span><span class="p">,</span> <span class="n">idToken</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">email</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Google Sign-inに失敗した場合に呼び出される処理</span>
<span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nl">signIn:</span><span class="p">(</span><span class="n">GIDSignIn</span> <span class="o">*</span><span class="p">)</span><span class="n">signIn</span> <span class="nl">didDisconnectWithUser:</span><span class="p">(</span><span class="n">GIDGoogleUser</span> <span class="o">*</span><span class="p">)</span><span class="n">user</span> <span class="nl">withError:</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="p">)</span><span class="n">error</span> <span class="p">{</span>
	<span class="c1">// Perform any operations when the user disconnects from app here.</span>
	<span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;error: %@&quot;</span><span class="p">,</span> <span class="n">error</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>