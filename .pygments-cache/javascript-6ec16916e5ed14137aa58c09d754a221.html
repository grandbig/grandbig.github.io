<div class="highlight"><pre><span class="err">#</span> <span class="nx">Redis</span> <span class="nx">can</span> <span class="nx">notify</span> <span class="nx">Pub</span><span class="o">/</span><span class="nx">Sub</span> <span class="nx">clients</span> <span class="nx">about</span> <span class="nx">events</span> <span class="nx">happening</span> <span class="k">in</span> <span class="nx">the</span> <span class="nx">key</span> <span class="nx">space</span><span class="p">.</span>
<span class="err">#</span> <span class="nx">This</span> <span class="nx">feature</span> <span class="nx">is</span> <span class="nx">documented</span> <span class="nx">at</span> <span class="nx">http</span><span class="o">:</span><span class="c1">//redis.io/topics/keyspace-events</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">For</span> <span class="nx">instance</span> <span class="k">if</span> <span class="nx">keyspace</span> <span class="nx">events</span> <span class="nx">notification</span> <span class="nx">is</span> <span class="nx">enabled</span><span class="p">,</span> <span class="nx">and</span> <span class="nx">a</span> <span class="nx">client</span>
<span class="err">#</span> <span class="nx">performs</span> <span class="nx">a</span> <span class="nx">DEL</span> <span class="nx">operation</span> <span class="nx">on</span> <span class="nx">key</span> <span class="s2">&quot;foo&quot;</span> <span class="nx">stored</span> <span class="k">in</span> <span class="nx">the</span> <span class="nx">Database</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">two</span>
<span class="err">#</span> <span class="nx">messages</span> <span class="nx">will</span> <span class="nx">be</span> <span class="nx">published</span> <span class="nx">via</span> <span class="nx">Pub</span><span class="o">/</span><span class="nx">Sub</span><span class="o">:</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">PUBLISH</span> <span class="nx">__keyspace</span><span class="err">@</span><span class="mi">0</span><span class="nx">__</span><span class="o">:</span><span class="nx">foo</span> <span class="nx">del</span>
<span class="err">#</span> <span class="nx">PUBLISH</span> <span class="nx">__keyevent</span><span class="err">@</span><span class="mi">0</span><span class="nx">__</span><span class="o">:</span><span class="nx">del</span> <span class="nx">foo</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">It</span> <span class="nx">is</span> <span class="nx">possible</span> <span class="nx">to</span> <span class="nx">select</span> <span class="nx">the</span> <span class="nx">events</span> <span class="nx">that</span> <span class="nx">Redis</span> <span class="nx">will</span> <span class="nx">notify</span> <span class="nx">among</span> <span class="nx">a</span> <span class="nx">set</span>
<span class="err">#</span> <span class="nx">of</span> <span class="nx">classes</span><span class="p">.</span> <span class="nx">Every</span> <span class="kr">class</span> <span class="nx">is</span> <span class="nx">identified</span> <span class="nx">by</span> <span class="nx">a</span> <span class="nx">single</span> <span class="nx">character</span><span class="o">:</span>
<span class="err">#</span>
<span class="err">#</span>  <span class="nx">K</span>     <span class="nx">Keyspace</span> <span class="nx">events</span><span class="p">,</span> <span class="nx">published</span> <span class="kd">with</span> <span class="nx">__keyspace</span><span class="err">@</span><span class="o">&lt;</span><span class="nx">db</span><span class="o">&gt;</span><span class="nx">__</span> <span class="nx">prefix</span><span class="p">.</span>
<span class="err">#</span>  <span class="nx">E</span>     <span class="nx">Keyevent</span> <span class="nx">events</span><span class="p">,</span> <span class="nx">published</span> <span class="kd">with</span> <span class="nx">__keyevent</span><span class="err">@</span><span class="o">&lt;</span><span class="nx">db</span><span class="o">&gt;</span><span class="nx">__</span> <span class="nx">prefix</span><span class="p">.</span>
<span class="err">#</span>  <span class="nx">g</span>     <span class="nx">Generic</span> <span class="nx">commands</span> <span class="p">(</span><span class="nx">non</span><span class="o">-</span><span class="nx">type</span> <span class="nx">specific</span><span class="p">)</span> <span class="nx">like</span> <span class="nx">DEL</span><span class="p">,</span> <span class="nx">EXPIRE</span><span class="p">,</span> <span class="nx">RENAME</span><span class="p">,</span> <span class="p">...</span>
<span class="err">#</span>  <span class="nx">$</span>     <span class="nb">String</span> <span class="nx">commands</span>
<span class="err">#</span>  <span class="nx">l</span>     <span class="nx">List</span> <span class="nx">commands</span>
<span class="err">#</span>  <span class="nx">s</span>     <span class="nx">Set</span> <span class="nx">commands</span>
<span class="err">#</span>  <span class="nx">h</span>     <span class="nx">Hash</span> <span class="nx">commands</span>
<span class="err">#</span>  <span class="nx">z</span>     <span class="nx">Sorted</span> <span class="nx">set</span> <span class="nx">commands</span>
<span class="err">#</span>  <span class="nx">x</span>     <span class="nx">Expired</span> <span class="nx">events</span> <span class="p">(</span><span class="nx">events</span> <span class="nx">generated</span> <span class="nx">every</span> <span class="nx">time</span> <span class="nx">a</span> <span class="nx">key</span> <span class="nx">expires</span><span class="p">)</span>
<span class="err">#</span>  <span class="nx">e</span>     <span class="nx">Evicted</span> <span class="nx">events</span> <span class="p">(</span><span class="nx">events</span> <span class="nx">generated</span> <span class="nx">when</span> <span class="nx">a</span> <span class="nx">key</span> <span class="nx">is</span> <span class="nx">evicted</span> <span class="k">for</span> <span class="nx">maxmemory</span><span class="p">)</span>
<span class="err">#</span>  <span class="nx">A</span>     <span class="nx">Alias</span> <span class="k">for</span> <span class="nx">g$lshzxe</span><span class="p">,</span> <span class="nx">so</span> <span class="nx">that</span> <span class="nx">the</span> <span class="s2">&quot;AKE&quot;</span> <span class="nx">string</span> <span class="nx">means</span> <span class="nx">all</span> <span class="nx">the</span> <span class="nx">events</span><span class="p">.</span>
<span class="err">#</span>
<span class="err">#</span>  <span class="nx">The</span> <span class="s2">&quot;notify-keyspace-events&quot;</span> <span class="nx">takes</span> <span class="nx">as</span> <span class="nx">argument</span> <span class="nx">a</span> <span class="nx">string</span> <span class="nx">that</span> <span class="nx">is</span> <span class="nx">composed</span>
<span class="err">#</span>  <span class="nx">by</span> <span class="nx">zero</span> <span class="nx">or</span> <span class="nx">multiple</span> <span class="nx">characters</span><span class="p">.</span> <span class="nx">The</span> <span class="nx">empty</span> <span class="nx">string</span> <span class="nx">means</span> <span class="nx">that</span> <span class="nx">notifications</span>
<span class="err">#</span>  <span class="nx">are</span> <span class="nx">disabled</span> <span class="nx">at</span> <span class="nx">all</span><span class="p">.</span>
<span class="err">#</span>
<span class="err">#</span>  <span class="nx">Example</span><span class="o">:</span> <span class="nx">to</span> <span class="nx">enable</span> <span class="nx">list</span> <span class="nx">and</span> <span class="nx">generic</span> <span class="nx">events</span><span class="p">,</span> <span class="nx">from</span> <span class="nx">the</span> <span class="nx">point</span> <span class="nx">of</span> <span class="nx">view</span> <span class="nx">of</span> <span class="nx">the</span>
<span class="err">#</span>           <span class="nx">event</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">use</span><span class="o">:</span>
<span class="err">#</span>
<span class="err">#</span>  <span class="nx">notify</span><span class="o">-</span><span class="nx">keyspace</span><span class="o">-</span><span class="nx">events</span> <span class="nx">Elg</span>
<span class="err">#</span>
<span class="err">#</span>  <span class="nx">Example</span> <span class="mi">2</span><span class="o">:</span> <span class="nx">to</span> <span class="nx">get</span> <span class="nx">the</span> <span class="nx">stream</span> <span class="nx">of</span> <span class="nx">the</span> <span class="nx">expired</span> <span class="nx">keys</span> <span class="nx">subscribing</span> <span class="nx">to</span> <span class="nx">channel</span>
<span class="err">#</span>             <span class="nx">name</span> <span class="nx">__keyevent</span><span class="err">@</span><span class="mi">0</span><span class="nx">__</span><span class="o">:</span><span class="nx">expired</span> <span class="nx">use</span><span class="o">:</span>
<span class="err">#</span>
<span class="err">#</span>  <span class="nx">notify</span><span class="o">-</span><span class="nx">keyspace</span><span class="o">-</span><span class="nx">events</span> <span class="nx">Ex</span>
<span class="err">#</span>
<span class="err">#</span>  <span class="nx">By</span> <span class="k">default</span> <span class="nx">all</span> <span class="nx">notifications</span> <span class="nx">are</span> <span class="nx">disabled</span> <span class="nx">because</span> <span class="nx">most</span> <span class="nx">users</span> <span class="nx">don</span><span class="err">â€˜</span><span class="nx">t</span> <span class="nx">need</span>
<span class="err">#</span>  <span class="k">this</span> <span class="nx">feature</span> <span class="nx">and</span> <span class="nx">the</span> <span class="nx">feature</span> <span class="nx">has</span> <span class="nx">some</span> <span class="nx">overhead</span><span class="p">.</span> <span class="nx">Note</span> <span class="nx">that</span> <span class="k">if</span> <span class="nx">you</span> <span class="nx">don</span><span class="err">â€˜</span><span class="nx">t</span>
<span class="err">#</span>  <span class="nx">specify</span> <span class="nx">at</span> <span class="nx">least</span> <span class="nx">one</span> <span class="nx">of</span> <span class="nx">K</span> <span class="nx">or</span> <span class="nx">E</span><span class="p">,</span> <span class="nx">no</span> <span class="nx">events</span> <span class="nx">will</span> <span class="nx">be</span> <span class="nx">delivered</span><span class="p">.</span>
<span class="nx">notify</span><span class="o">-</span><span class="nx">keyspace</span><span class="o">-</span><span class="nx">events</span> <span class="s2">&quot;&quot;</span>
</pre></div>