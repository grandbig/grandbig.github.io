<div class="highlight"><pre><span class="n">import</span> <span class="n">Express</span>

<span class="n">let</span> <span class="n">app</span> <span class="o">=</span> <span class="n">express</span><span class="p">()</span>

<span class="n">app</span><span class="p">.</span><span class="n">views</span><span class="p">.</span><span class="k">register</span><span class="p">(</span><span class="n">StencilViewEngine</span><span class="p">())</span>
<span class="o">&lt;!--</span> <span class="err">ここを追加</span> <span class="o">--&gt;</span>
<span class="n">app</span><span class="p">.</span><span class="n">views</span><span class="p">.</span><span class="k">register</span><span class="p">(</span><span class="n">JsonView</span><span class="p">())</span>

<span class="n">app</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;/assets/:file+&quot;</span><span class="p">,</span> <span class="nl">action:</span> <span class="n">StaticAction</span><span class="p">(</span><span class="nl">path:</span> <span class="s">&quot;public&quot;</span><span class="p">,</span> <span class="nl">param:</span><span class="s">&quot;file&quot;</span><span class="p">))</span>

<span class="n">app</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">&quot;/&quot;</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nl">request:</span><span class="n">Request</span><span class="o">&lt;</span><span class="n">AnyContent</span><span class="o">&gt;</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">Action</span><span class="o">&lt;</span><span class="n">AnyContent</span><span class="o">&gt;</span> <span class="k">in</span>
    <span class="k">return</span> <span class="n">Action</span><span class="o">&lt;</span><span class="n">AnyContent</span><span class="o">&gt;</span><span class="p">.</span><span class="n">render</span><span class="p">(</span><span class="s">&quot;index&quot;</span><span class="p">,</span> <span class="nl">context:</span> <span class="p">[</span><span class="s">&quot;hello&quot;</span><span class="o">:</span> <span class="s">&quot;Hello,&quot;</span><span class="p">,</span> <span class="s">&quot;swift&quot;</span><span class="o">:</span> <span class="s">&quot;Swift&quot;</span><span class="p">,</span> <span class="s">&quot;express&quot;</span><span class="o">:</span> <span class="s">&quot;Express!&quot;</span><span class="p">])</span>
<span class="p">}</span>

<span class="o">&lt;!--</span> <span class="err">ここを追加</span> <span class="o">--&gt;</span>
<span class="n">app</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="s">&quot;/:param&quot;</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="nl">request:</span><span class="n">Request</span><span class="o">&lt;</span><span class="n">AnyContent</span><span class="o">&gt;</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">Action</span><span class="o">&lt;</span><span class="n">AnyContent</span><span class="o">&gt;</span> <span class="k">in</span>
    <span class="n">let</span> <span class="n">response</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;status&quot;</span><span class="o">:</span> <span class="s">&quot;ok&quot;</span><span class="p">,</span> <span class="s">&quot;description&quot;</span><span class="o">:</span> <span class="s">&quot;Post Request Succesfully&quot;</span><span class="p">]</span>
	    <span class="k">return</span> <span class="n">Action</span><span class="p">.</span><span class="n">render</span><span class="p">(</span><span class="n">JsonView</span><span class="p">.</span><span class="n">name</span><span class="p">,</span> <span class="nl">context:</span> <span class="n">response</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">app</span><span class="p">.</span><span class="n">listen</span><span class="p">(</span><span class="mi">9999</span><span class="p">).</span><span class="n">onSuccess</span> <span class="p">{</span> <span class="n">server</span> <span class="k">in</span>
    <span class="n">print</span><span class="p">(</span><span class="s">&quot;Express was successfully launched on port&quot;</span><span class="p">,</span> <span class="n">server</span><span class="p">.</span><span class="n">port</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">app</span><span class="p">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>