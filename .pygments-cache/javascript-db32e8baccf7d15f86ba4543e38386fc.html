<div class="highlight"><pre><span class="err">#</span> <span class="nx">The</span> <span class="nx">Redis</span> <span class="nx">Slow</span> <span class="nx">Log</span> <span class="nx">is</span> <span class="nx">a</span> <span class="nx">system</span> <span class="nx">to</span> <span class="nx">log</span> <span class="nx">queries</span> <span class="nx">that</span> <span class="nx">exceeded</span> <span class="nx">a</span> <span class="nx">specified</span>
<span class="err">#</span> <span class="nx">execution</span> <span class="nx">time</span><span class="p">.</span> <span class="nx">The</span> <span class="nx">execution</span> <span class="nx">time</span> <span class="nx">does</span> <span class="nx">not</span> <span class="nx">include</span> <span class="nx">the</span> <span class="nx">I</span><span class="o">/</span><span class="nx">O</span> <span class="nx">operations</span>
<span class="err">#</span> <span class="nx">like</span> <span class="nx">talking</span> <span class="kd">with</span> <span class="nx">the</span> <span class="nx">client</span><span class="p">,</span> <span class="nx">sending</span> <span class="nx">the</span> <span class="nx">reply</span> <span class="nx">and</span> <span class="nx">so</span> <span class="nx">forth</span><span class="p">,</span>
<span class="err">#</span> <span class="nx">but</span> <span class="nx">just</span> <span class="nx">the</span> <span class="nx">time</span> <span class="nx">needed</span> <span class="nx">to</span> <span class="nx">actually</span> <span class="nx">execute</span> <span class="nx">the</span> <span class="nx">command</span> <span class="p">(</span><span class="k">this</span> <span class="nx">is</span> <span class="nx">the</span> <span class="nx">only</span>
<span class="err">#</span> <span class="nx">stage</span> <span class="nx">of</span> <span class="nx">command</span> <span class="nx">execution</span> <span class="nx">where</span> <span class="nx">the</span> <span class="nx">thread</span> <span class="nx">is</span> <span class="nx">blocked</span> <span class="nx">and</span> <span class="nx">can</span> <span class="nx">not</span> <span class="nx">serve</span>
<span class="err">#</span> <span class="nx">other</span> <span class="nx">requests</span> <span class="k">in</span> <span class="nx">the</span> <span class="nx">meantime</span><span class="p">).</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">You</span> <span class="nx">can</span> <span class="nx">configure</span> <span class="nx">the</span> <span class="nx">slow</span> <span class="nx">log</span> <span class="kd">with</span> <span class="nx">two</span> <span class="nx">parameters</span><span class="o">:</span> <span class="nx">one</span> <span class="nx">tells</span> <span class="nx">Redis</span>
<span class="err">#</span> <span class="nx">what</span> <span class="nx">is</span> <span class="nx">the</span> <span class="nx">execution</span> <span class="nx">time</span><span class="p">,</span> <span class="k">in</span> <span class="nx">microseconds</span><span class="p">,</span> <span class="nx">to</span> <span class="nx">exceed</span> <span class="k">in</span> <span class="nx">order</span> <span class="k">for</span> <span class="nx">the</span>
<span class="err">#</span> <span class="nx">command</span> <span class="nx">to</span> <span class="nx">get</span> <span class="nx">logged</span><span class="p">,</span> <span class="nx">and</span> <span class="nx">the</span> <span class="nx">other</span> <span class="nx">parameter</span> <span class="nx">is</span> <span class="nx">the</span> <span class="nx">length</span> <span class="nx">of</span> <span class="nx">the</span>
<span class="err">#</span> <span class="nx">slow</span> <span class="nx">log</span><span class="p">.</span> <span class="nx">When</span> <span class="nx">a</span> <span class="k">new</span> <span class="nx">command</span> <span class="nx">is</span> <span class="nx">logged</span> <span class="nx">the</span> <span class="nx">oldest</span> <span class="nx">one</span> <span class="nx">is</span> <span class="nx">removed</span> <span class="nx">from</span> <span class="nx">the</span>
<span class="err">#</span> <span class="nx">queue</span> <span class="nx">of</span> <span class="nx">logged</span> <span class="nx">commands</span><span class="p">.</span>

<span class="err">#</span> <span class="nx">The</span> <span class="nx">following</span> <span class="nx">time</span> <span class="nx">is</span> <span class="nx">expressed</span> <span class="k">in</span> <span class="nx">microseconds</span><span class="p">,</span> <span class="nx">so</span> <span class="mi">1000000</span> <span class="nx">is</span> <span class="nx">equivalent</span>
<span class="err">#</span> <span class="nx">to</span> <span class="nx">one</span> <span class="nx">second</span><span class="p">.</span> <span class="nx">Note</span> <span class="nx">that</span> <span class="nx">a</span> <span class="nx">negative</span> <span class="nx">number</span> <span class="nx">disables</span> <span class="nx">the</span> <span class="nx">slow</span> <span class="nx">log</span><span class="p">,</span> <span class="k">while</span>
<span class="err">#</span> <span class="nx">a</span> <span class="nx">value</span> <span class="nx">of</span> <span class="nx">zero</span> <span class="nx">forces</span> <span class="nx">the</span> <span class="nx">logging</span> <span class="nx">of</span> <span class="nx">every</span> <span class="nx">command</span><span class="p">.</span>
<span class="nx">slowlog</span><span class="o">-</span><span class="nx">log</span><span class="o">-</span><span class="nx">slower</span><span class="o">-</span><span class="nx">than</span> <span class="mi">10000</span>

<span class="err">#</span> <span class="nx">There</span> <span class="nx">is</span> <span class="nx">no</span> <span class="nx">limit</span> <span class="nx">to</span> <span class="k">this</span> <span class="nx">length</span><span class="p">.</span> <span class="nx">Just</span> <span class="nx">be</span> <span class="nx">aware</span> <span class="nx">that</span> <span class="nx">it</span> <span class="nx">will</span> <span class="nx">consume</span> <span class="nx">memory</span><span class="p">.</span>
<span class="err">#</span> <span class="nx">You</span> <span class="nx">can</span> <span class="nx">reclaim</span> <span class="nx">memory</span> <span class="nx">used</span> <span class="nx">by</span> <span class="nx">the</span> <span class="nx">slow</span> <span class="nx">log</span> <span class="kd">with</span> <span class="nx">SLOWLOG</span> <span class="nx">RESET</span><span class="p">.</span>
<span class="nx">slowlog</span><span class="o">-</span><span class="nx">max</span><span class="o">-</span><span class="nx">len</span> <span class="mi">128</span>
</pre></div>