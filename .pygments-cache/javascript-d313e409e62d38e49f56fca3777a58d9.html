<div class="highlight"><pre><span class="err">#</span> <span class="nx">Close</span> <span class="nx">the</span> <span class="nx">connection</span> <span class="nx">after</span> <span class="nx">a</span> <span class="nx">client</span> <span class="nx">is</span> <span class="nx">idle</span> <span class="k">for</span> <span class="nx">N</span> <span class="nx">seconds</span> <span class="p">(</span><span class="mi">0</span> <span class="nx">to</span> <span class="nx">disable</span><span class="p">)</span>
<span class="nx">timeout</span> <span class="mi">0</span>

<span class="err">#</span> <span class="nx">TCP</span> <span class="nx">keepalive</span><span class="p">.</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">If</span> <span class="nx">non</span><span class="o">-</span><span class="nx">zero</span><span class="p">,</span> <span class="nx">use</span> <span class="nx">SO_KEEPALIVE</span> <span class="nx">to</span> <span class="nx">send</span> <span class="nx">TCP</span> <span class="nx">ACKs</span> <span class="nx">to</span> <span class="nx">clients</span> <span class="k">in</span> <span class="nx">absence</span>
<span class="err">#</span> <span class="nx">of</span> <span class="nx">communication</span><span class="p">.</span> <span class="nx">This</span> <span class="nx">is</span> <span class="nx">useful</span> <span class="k">for</span> <span class="nx">two</span> <span class="nx">reasons</span><span class="o">:</span>
<span class="err">#</span>
<span class="err">#</span> <span class="mi">1</span><span class="p">)</span> <span class="nx">Detect</span> <span class="nx">dead</span> <span class="nx">peers</span><span class="p">.</span>
<span class="err">#</span> <span class="mi">2</span><span class="p">)</span> <span class="nx">Take</span> <span class="nx">the</span> <span class="nx">connection</span> <span class="nx">alive</span> <span class="nx">from</span> <span class="nx">the</span> <span class="nx">point</span> <span class="nx">of</span> <span class="nx">view</span> <span class="nx">of</span> <span class="nx">network</span>
<span class="err">#</span>    <span class="nx">equipment</span> <span class="k">in</span> <span class="nx">the</span> <span class="nx">middle</span><span class="p">.</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">On</span> <span class="nx">Linux</span><span class="p">,</span> <span class="nx">the</span> <span class="nx">specified</span> <span class="nx">value</span> <span class="p">(</span><span class="k">in</span> <span class="nx">seconds</span><span class="p">)</span> <span class="nx">is</span> <span class="nx">the</span> <span class="nx">period</span> <span class="nx">used</span> <span class="nx">to</span> <span class="nx">send</span> <span class="nx">ACKs</span><span class="p">.</span>
<span class="err">#</span> <span class="nx">Note</span> <span class="nx">that</span> <span class="nx">to</span> <span class="nx">close</span> <span class="nx">the</span> <span class="nx">connection</span> <span class="nx">the</span> <span class="kr">double</span> <span class="nx">of</span> <span class="nx">the</span> <span class="nx">time</span> <span class="nx">is</span> <span class="nx">needed</span><span class="p">.</span>
<span class="err">#</span> <span class="nx">On</span> <span class="nx">other</span> <span class="nx">kernels</span> <span class="nx">the</span> <span class="nx">period</span> <span class="nx">depends</span> <span class="nx">on</span> <span class="nx">the</span> <span class="nx">kernel</span> <span class="nx">configuration</span><span class="p">.</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">A</span> <span class="nx">reasonable</span> <span class="nx">value</span> <span class="k">for</span> <span class="k">this</span> <span class="nx">option</span> <span class="nx">is</span> <span class="mi">60</span> <span class="nx">seconds</span><span class="p">.</span>
<span class="nx">tcp</span><span class="o">-</span><span class="nx">keepalive</span> <span class="mi">0</span>

<span class="err">#</span> <span class="nx">Specify</span> <span class="nx">the</span> <span class="nx">server</span> <span class="nx">verbosity</span> <span class="nx">level</span><span class="p">.</span>
<span class="err">#</span> <span class="nx">This</span> <span class="nx">can</span> <span class="nx">be</span> <span class="nx">one</span> <span class="nx">of</span><span class="o">:</span>
<span class="err">#</span> <span class="nx">debug</span> <span class="p">(</span><span class="nx">a</span> <span class="nx">lot</span> <span class="nx">of</span> <span class="nx">information</span><span class="p">,</span> <span class="nx">useful</span> <span class="k">for</span> <span class="nx">development</span><span class="o">/</span><span class="nx">testing</span><span class="p">)</span>
<span class="err">#</span> <span class="nx">verbose</span> <span class="p">(</span><span class="nx">many</span> <span class="nx">rarely</span> <span class="nx">useful</span> <span class="nx">info</span><span class="p">,</span> <span class="nx">but</span> <span class="nx">not</span> <span class="nx">a</span> <span class="nx">mess</span> <span class="nx">like</span> <span class="nx">the</span> <span class="nx">debug</span> <span class="nx">level</span><span class="p">)</span>
<span class="err">#</span> <span class="nx">notice</span> <span class="p">(</span><span class="nx">moderately</span> <span class="nx">verbose</span><span class="p">,</span> <span class="nx">what</span> <span class="nx">you</span> <span class="nx">want</span> <span class="k">in</span> <span class="nx">production</span> <span class="nx">probably</span><span class="p">)</span>
<span class="err">#</span> <span class="nx">warning</span> <span class="p">(</span><span class="nx">only</span> <span class="nx">very</span> <span class="nx">important</span> <span class="o">/</span> <span class="nx">critical</span> <span class="nx">messages</span> <span class="nx">are</span> <span class="nx">logged</span><span class="p">)</span>
<span class="nx">loglevel</span> <span class="nx">notice</span>

<span class="err">#</span> <span class="nx">Specify</span> <span class="nx">the</span> <span class="nx">log</span> <span class="nx">file</span> <span class="nx">name</span><span class="p">.</span> <span class="nx">Also</span> <span class="nx">the</span> <span class="nx">empty</span> <span class="nx">string</span> <span class="nx">can</span> <span class="nx">be</span> <span class="nx">used</span> <span class="nx">to</span> <span class="nx">force</span>
<span class="err">#</span> <span class="nx">Redis</span> <span class="nx">to</span> <span class="nx">log</span> <span class="nx">on</span> <span class="nx">the</span> <span class="nx">standard</span> <span class="nx">output</span><span class="p">.</span> <span class="nx">Note</span> <span class="nx">that</span> <span class="k">if</span> <span class="nx">you</span> <span class="nx">use</span> <span class="nx">standard</span>
<span class="err">#</span> <span class="nx">output</span> <span class="k">for</span> <span class="nx">logging</span> <span class="nx">but</span> <span class="nx">daemonize</span><span class="p">,</span> <span class="nx">logs</span> <span class="nx">will</span> <span class="nx">be</span> <span class="nx">sent</span> <span class="nx">to</span> <span class="o">/</span><span class="nx">dev</span><span class="o">/</span><span class="kc">null</span>
<span class="nx">logfile</span> <span class="o">/</span><span class="kd">var</span><span class="err">/log/redis/redis-server.log</span>

<span class="err">#</span> <span class="nx">To</span> <span class="nx">enable</span> <span class="nx">logging</span> <span class="nx">to</span> <span class="nx">the</span> <span class="nx">system</span> <span class="nx">logger</span><span class="p">,</span> <span class="nx">just</span> <span class="nx">set</span> <span class="s1">&#39;syslog-enabled&#39;</span> <span class="nx">to</span> <span class="nx">yes</span><span class="p">,</span>
<span class="err">#</span> <span class="nx">and</span> <span class="nx">optionally</span> <span class="nx">update</span> <span class="nx">the</span> <span class="nx">other</span> <span class="nx">syslog</span> <span class="nx">parameters</span> <span class="nx">to</span> <span class="nx">suit</span> <span class="nx">your</span> <span class="nx">needs</span><span class="p">.</span>
<span class="err">#</span> <span class="nx">syslog</span><span class="o">-</span><span class="nx">enabled</span> <span class="nx">no</span>

<span class="err">#</span> <span class="nx">Specify</span> <span class="nx">the</span> <span class="nx">syslog</span> <span class="nx">identity</span><span class="p">.</span>
<span class="err">#</span> <span class="nx">syslog</span><span class="o">-</span><span class="nx">ident</span> <span class="nx">redis</span>

<span class="err">#</span> <span class="nx">Specify</span> <span class="nx">the</span> <span class="nx">syslog</span> <span class="nx">facility</span><span class="p">.</span> <span class="nx">Must</span> <span class="nx">be</span> <span class="nx">USER</span> <span class="nx">or</span> <span class="nx">between</span> <span class="nx">LOCAL0</span><span class="o">-</span><span class="nx">LOCAL7</span><span class="p">.</span>
<span class="err">#</span> <span class="nx">syslog</span><span class="o">-</span><span class="nx">facility</span> <span class="nx">local0</span>

<span class="err">#</span> <span class="nx">Set</span> <span class="nx">the</span> <span class="nx">number</span> <span class="nx">of</span> <span class="nx">databases</span><span class="p">.</span> <span class="nx">The</span> <span class="k">default</span> <span class="nx">database</span> <span class="nx">is</span> <span class="nx">DB</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">you</span> <span class="nx">can</span> <span class="nx">select</span>
<span class="err">#</span> <span class="nx">a</span> <span class="nx">different</span> <span class="nx">one</span> <span class="nx">on</span> <span class="nx">a</span> <span class="nx">per</span><span class="o">-</span><span class="nx">connection</span> <span class="nx">basis</span> <span class="nx">using</span> <span class="nx">SELECT</span> <span class="o">&lt;</span><span class="nx">dbid</span><span class="o">&gt;</span> <span class="nx">where</span>
<span class="err">#</span> <span class="nx">dbid</span> <span class="nx">is</span> <span class="nx">a</span> <span class="nx">number</span> <span class="nx">between</span> <span class="mi">0</span> <span class="nx">and</span> <span class="s1">&#39;databases&#39;</span><span class="o">-</span><span class="mi">1</span>
<span class="nx">databases</span> <span class="mi">16</span>
</pre></div>