<div class="highlight"><pre><span class="n">import</span> <span class="n">UIKit</span>
<span class="n">import</span> <span class="n">CoreLocation</span>

<span class="n">class</span> <span class="nl">ViewController:</span> <span class="n">UIViewController</span><span class="p">,</span> <span class="n">CLLocationManagerDelegate</span> <span class="p">{</span>
	
	<span class="n">var</span> <span class="nl">lm:</span><span class="n">CLLocationManager</span><span class="o">?</span>
	<span class="n">var</span> <span class="nl">uuids:</span><span class="p">[</span><span class="n">String</span><span class="p">]</span><span class="o">?</span>

	<span class="n">override</span> <span class="n">func</span> <span class="n">viewDidLoad</span><span class="p">()</span> <span class="p">{</span>
		<span class="n">super</span><span class="p">.</span><span class="n">viewDidLoad</span><span class="p">()</span>

		<span class="n">self</span><span class="p">.</span><span class="n">lm</span> <span class="o">=</span> <span class="n">CLLocationManager</span><span class="p">()</span>
		<span class="n">self</span><span class="p">.</span><span class="n">lm</span><span class="o">?</span><span class="p">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="n">self</span>

		<span class="n">self</span><span class="p">.</span><span class="n">uuids</span> <span class="o">=</span> <span class="p">[</span> <span class="err">ここに</span><span class="n">UUID</span><span class="err">の文字列を</span><span class="mi">20</span><span class="err">個以上用意</span> <span class="p">]</span>

		<span class="n">self</span><span class="p">.</span><span class="n">lm</span><span class="o">?</span><span class="p">.</span><span class="n">requestAlwaysAuthorization</span><span class="p">()</span>
	<span class="p">}</span>

	<span class="n">override</span> <span class="n">func</span> <span class="n">didReceiveMemoryWarning</span><span class="p">()</span> <span class="p">{</span>
		<span class="n">super</span><span class="p">.</span><span class="n">didReceiveMemoryWarning</span><span class="p">()</span>
	<span class="p">}</span>

	<span class="n">func</span> <span class="n">locationManager</span><span class="p">(</span><span class="nl">manager:</span> <span class="n">CLLocationManager</span><span class="p">,</span> <span class="n">didChangeAuthorizationStatus</span> <span class="nl">status:</span> <span class="n">CLAuthorizationStatus</span><span class="p">)</span> <span class="p">{</span>
		<span class="c1">// 位置情報サービスの許可状態が変更した場合に呼び出される処理</span>
		<span class="k">if</span><span class="p">(</span><span class="n">status</span> <span class="o">==</span> <span class="p">.</span><span class="n">AuthorizedAlways</span><span class="p">)</span> <span class="p">{</span>
			<span class="k">for</span><span class="p">(</span><span class="n">var</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">self</span><span class="p">.</span><span class="n">uuids</span><span class="p">.</span><span class="n">count</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
				<span class="n">let</span> <span class="n">uuidString</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">uuids</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
				<span class="n">let</span> <span class="n">uuid</span> <span class="o">=</span> <span class="n">NSUUID</span><span class="p">.</span><span class="n">init</span><span class="p">(</span><span class="nl">UUIDString:</span> <span class="n">uuidString</span><span class="p">)</span>
				<span class="n">let</span> <span class="n">beaconRegion</span> <span class="o">=</span> <span class="n">CLBeaconRegion</span><span class="p">.</span><span class="n">init</span><span class="p">(</span><span class="nl">proximityUUID:</span> <span class="n">uuid</span><span class="o">!</span><span class="p">,</span> <span class="nl">identifier:</span> <span class="p">(</span><span class="s">&quot;beaconRegion&quot;</span><span class="o">+</span><span class="n">String</span><span class="p">(</span><span class="n">i</span><span class="p">)))</span>
				<span class="n">self</span><span class="p">.</span><span class="n">lm</span><span class="o">?</span><span class="p">.</span><span class="n">startMonitoringForRegion</span><span class="p">(</span><span class="n">beaconRegion</span><span class="p">)</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span>

	<span class="n">func</span> <span class="n">locationManager</span><span class="p">(</span><span class="nl">manager:</span> <span class="n">CLLocationManager</span><span class="p">,</span> <span class="n">didStartMonitoringForRegion</span> <span class="nl">region:</span> <span class="n">CLRegion</span><span class="p">)</span> <span class="p">{</span>
		<span class="c1">// Regionのモニタリングが開始したときに呼び出される処理</span>
		<span class="n">print</span><span class="p">(</span><span class="s">&quot;\(region)&quot;</span><span class="p">)</span>
	<span class="p">}</span>

	<span class="n">func</span> <span class="n">locationManager</span><span class="p">(</span><span class="nl">manager:</span> <span class="n">CLLocationManager</span><span class="p">,</span> <span class="n">didDetermineState</span> <span class="nl">state:</span> <span class="n">CLRegionState</span><span class="p">,</span> <span class="n">forRegion</span> <span class="nl">region:</span> <span class="n">CLRegion</span><span class="p">)</span> <span class="p">{</span>
		<span class="c1">// Regionに対する状態が変化したときに呼び出される処理</span>
		<span class="k">switch</span><span class="p">(</span><span class="n">state</span><span class="p">)</span> <span class="p">{</span>
		<span class="k">case</span> <span class="p">.</span><span class="nl">Inside:</span>
			<span class="n">print</span><span class="p">(</span><span class="s">&quot;Inside: \(region)&quot;</span><span class="p">)</span>
			<span class="k">break</span>
		<span class="k">case</span> <span class="p">.</span><span class="nl">Outside:</span>
			<span class="n">print</span><span class="p">(</span><span class="s">&quot;Outside: \(region)&quot;</span><span class="p">)</span>
			<span class="k">break</span>
		<span class="k">case</span> <span class="p">.</span><span class="nl">Unknown:</span>
			<span class="n">print</span><span class="p">(</span><span class="s">&quot;Unknown: \(region)&quot;</span><span class="p">)</span>
			<span class="k">break</span>
		<span class="p">}</span>
	<span class="p">}</span>
<span class="p">}</span>
</pre></div>