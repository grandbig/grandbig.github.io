<div class="highlight"><pre><span class="err">#</span> <span class="nx">It</span> <span class="nx">is</span> <span class="nx">possible</span> <span class="k">for</span> <span class="nx">a</span> <span class="nx">master</span> <span class="nx">to</span> <span class="nx">stop</span> <span class="nx">accepting</span> <span class="nx">writes</span> <span class="k">if</span> <span class="nx">there</span> <span class="nx">are</span> <span class="nx">less</span> <span class="nx">than</span>
<span class="err">#</span> <span class="nx">N</span> <span class="nx">slaves</span> <span class="nx">connected</span><span class="p">,</span> <span class="nx">having</span> <span class="nx">a</span> <span class="nx">lag</span> <span class="nx">less</span> <span class="nx">or</span> <span class="nx">equal</span> <span class="nx">than</span> <span class="nx">M</span> <span class="nx">seconds</span><span class="p">.</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">The</span> <span class="nx">N</span> <span class="nx">slaves</span> <span class="nx">need</span> <span class="nx">to</span> <span class="nx">be</span> <span class="k">in</span> <span class="s2">&quot;online&quot;</span> <span class="nx">state</span><span class="p">.</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">The</span> <span class="nx">lag</span> <span class="k">in</span> <span class="nx">seconds</span><span class="p">,</span> <span class="nx">that</span> <span class="nx">must</span> <span class="nx">be</span> <span class="o">&lt;=</span> <span class="nx">the</span> <span class="nx">specified</span> <span class="nx">value</span><span class="p">,</span> <span class="nx">is</span> <span class="nx">calculated</span> <span class="nx">from</span>
<span class="err">#</span> <span class="nx">the</span> <span class="nx">last</span> <span class="nx">ping</span> <span class="nx">received</span> <span class="nx">from</span> <span class="nx">the</span> <span class="nx">slave</span><span class="p">,</span> <span class="nx">that</span> <span class="nx">is</span> <span class="nx">usually</span> <span class="nx">sent</span> <span class="nx">every</span> <span class="nx">second</span><span class="p">.</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">This</span> <span class="nx">option</span> <span class="nx">does</span> <span class="nx">not</span> <span class="nx">GUARANTEES</span> <span class="nx">that</span> <span class="nx">N</span> <span class="nx">replicas</span> <span class="nx">will</span> <span class="nx">accept</span> <span class="nx">the</span> <span class="nx">write</span><span class="p">,</span> <span class="nx">but</span>
<span class="err">#</span> <span class="nx">will</span> <span class="nx">limit</span> <span class="nx">the</span> <span class="nb">window</span> <span class="nx">of</span> <span class="nx">exposure</span> <span class="k">for</span> <span class="nx">lost</span> <span class="nx">writes</span> <span class="k">in</span> <span class="k">case</span> <span class="nx">not</span> <span class="nx">enough</span> <span class="nx">slaves</span>
<span class="err">#</span> <span class="nx">are</span> <span class="nx">available</span><span class="p">,</span> <span class="nx">to</span> <span class="nx">the</span> <span class="nx">specified</span> <span class="nx">number</span> <span class="nx">of</span> <span class="nx">seconds</span><span class="p">.</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">For</span> <span class="nx">example</span> <span class="nx">to</span> <span class="nx">require</span> <span class="nx">at</span> <span class="nx">least</span> <span class="mi">3</span> <span class="nx">slaves</span> <span class="kd">with</span> <span class="nx">a</span> <span class="nx">lag</span> <span class="o">&lt;=</span> <span class="mi">10</span> <span class="nx">seconds</span> <span class="nx">use</span><span class="o">:</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">min</span><span class="o">-</span><span class="nx">slaves</span><span class="o">-</span><span class="nx">to</span><span class="o">-</span><span class="nx">write</span> <span class="mi">3</span>
<span class="err">#</span> <span class="nx">min</span><span class="o">-</span><span class="nx">slaves</span><span class="o">-</span><span class="nx">max</span><span class="o">-</span><span class="nx">lag</span> <span class="mi">10</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">Setting</span> <span class="nx">one</span> <span class="nx">or</span> <span class="nx">the</span> <span class="nx">other</span> <span class="nx">to</span> <span class="mi">0</span> <span class="nx">disables</span> <span class="nx">the</span> <span class="nx">feature</span><span class="p">.</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">By</span> <span class="k">default</span> <span class="nx">min</span><span class="o">-</span><span class="nx">slaves</span><span class="o">-</span><span class="nx">to</span><span class="o">-</span><span class="nx">write</span> <span class="nx">is</span> <span class="nx">set</span> <span class="nx">to</span> <span class="mi">0</span> <span class="p">(</span><span class="nx">feature</span> <span class="nx">disabled</span><span class="p">)</span> <span class="nx">and</span>
<span class="err">#</span> <span class="nx">min</span><span class="o">-</span><span class="nx">slaves</span><span class="o">-</span><span class="nx">max</span><span class="o">-</span><span class="nx">lag</span> <span class="nx">is</span> <span class="nx">set</span> <span class="nx">to</span> <span class="mi">10</span><span class="p">.</span>
</pre></div>