<div class="highlight"><pre><span class="cm">/**</span>
<span class="cm">  マップにマーカを設置する処理</span>

<span class="cm">  - parameter title: マーカのタイトル</span>
<span class="cm">  - parameter coordinate: 位置</span>
<span class="cm">  - parameter iconName: アイコン名</span>
<span class="cm">  - parameter completion: Callback</span>
<span class="cm">*/</span>
<span class="n">private</span> <span class="n">func</span> <span class="nf">putMarker</span><span class="p">(</span><span class="nl">title:</span> <span class="n">String</span><span class="o">?</span><span class="p">,</span> <span class="nl">coordinate:</span> <span class="n">CLLocationCoordinate2D</span><span class="p">,</span> <span class="nl">iconName:</span> <span class="n">String</span><span class="o">?</span><span class="p">,</span> <span class="nl">completion:</span> <span class="err">@</span><span class="n">escaping</span> <span class="p">((</span><span class="n">GMSMarker</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Void</span><span class="p">))</span> <span class="p">{</span>
  <span class="c1">// マーカの生成</span>
  <span class="n">let</span> <span class="n">marker</span> <span class="o">=</span> <span class="n">GMSMarker</span><span class="p">()</span>
  <span class="n">marker</span><span class="p">.</span><span class="n">title</span> <span class="o">=</span> <span class="n">title</span>
  <span class="n">marker</span><span class="p">.</span><span class="n">position</span> <span class="o">=</span> <span class="n">coordinate</span>
  <span class="k">if</span> <span class="n">iconName</span> <span class="o">!=</span> <span class="nb">nil</span> <span class="p">{</span>
    <span class="c1">// アイコン名が指定されている場合は画像を設定</span>
    <span class="n">marker</span><span class="p">.</span><span class="n">icon</span> <span class="o">=</span> <span class="n">UIImage</span><span class="p">.</span><span class="n">init</span><span class="p">(</span><span class="nl">named:</span> <span class="n">iconName</span><span class="o">!</span><span class="p">)</span>
  <span class="p">}</span>
  <span class="n">marker</span><span class="p">.</span><span class="n">map</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">mapView</span>
  <span class="n">completion</span><span class="p">(</span><span class="n">marker</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>