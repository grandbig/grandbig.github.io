<div class="highlight"><pre><span class="err">#</span> <span class="nx">Don</span><span class="err">‘</span><span class="nx">t</span> <span class="nx">use</span> <span class="nx">more</span> <span class="nx">memory</span> <span class="nx">than</span> <span class="nx">the</span> <span class="nx">specified</span> <span class="nx">amount</span> <span class="nx">of</span> <span class="nx">bytes</span><span class="p">.</span>
<span class="err">#</span> <span class="nx">When</span> <span class="nx">the</span> <span class="nx">memory</span> <span class="nx">limit</span> <span class="nx">is</span> <span class="nx">reached</span> <span class="nx">Redis</span> <span class="nx">will</span> <span class="k">try</span> <span class="nx">to</span> <span class="nx">remove</span> <span class="nx">keys</span>
<span class="err">#</span> <span class="nx">according</span> <span class="nx">to</span> <span class="nx">the</span> <span class="nx">eviction</span> <span class="nx">policy</span> <span class="nx">selected</span> <span class="p">(</span><span class="nx">see</span> <span class="nx">maxmemory</span><span class="o">-</span><span class="nx">policy</span><span class="p">).</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">If</span> <span class="nx">Redis</span> <span class="nx">can</span><span class="err">‘</span><span class="nx">t</span> <span class="nx">remove</span> <span class="nx">keys</span> <span class="nx">according</span> <span class="nx">to</span> <span class="nx">the</span> <span class="nx">policy</span><span class="p">,</span> <span class="nx">or</span> <span class="k">if</span> <span class="nx">the</span> <span class="nx">policy</span> <span class="nx">is</span>
<span class="err">#</span> <span class="nx">set</span> <span class="nx">to</span> <span class="s1">&#39;noeviction&#39;</span><span class="p">,</span> <span class="nx">Redis</span> <span class="nx">will</span> <span class="nx">start</span> <span class="nx">to</span> <span class="nx">reply</span> <span class="kd">with</span> <span class="nx">errors</span> <span class="nx">to</span> <span class="nx">commands</span>
<span class="err">#</span> <span class="nx">that</span> <span class="nx">would</span> <span class="nx">use</span> <span class="nx">more</span> <span class="nx">memory</span><span class="p">,</span> <span class="nx">like</span> <span class="nx">SET</span><span class="p">,</span> <span class="nx">LPUSH</span><span class="p">,</span> <span class="nx">and</span> <span class="nx">so</span> <span class="nx">on</span><span class="p">,</span> <span class="nx">and</span> <span class="nx">will</span> <span class="k">continue</span>
<span class="err">#</span> <span class="nx">to</span> <span class="nx">reply</span> <span class="nx">to</span> <span class="nx">read</span><span class="o">-</span><span class="nx">only</span> <span class="nx">commands</span> <span class="nx">like</span> <span class="nx">GET</span><span class="p">.</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">This</span> <span class="nx">option</span> <span class="nx">is</span> <span class="nx">usually</span> <span class="nx">useful</span> <span class="nx">when</span> <span class="nx">using</span> <span class="nx">Redis</span> <span class="nx">as</span> <span class="nx">an</span> <span class="nx">LRU</span> <span class="nx">cache</span><span class="p">,</span> <span class="nx">or</span> <span class="nx">to</span> <span class="nx">set</span>
<span class="err">#</span> <span class="nx">a</span> <span class="nx">hard</span> <span class="nx">memory</span> <span class="nx">limit</span> <span class="k">for</span> <span class="nx">an</span> <span class="nx">instance</span> <span class="p">(</span><span class="nx">using</span> <span class="nx">the</span> <span class="s1">&#39;noeviction&#39;</span> <span class="nx">policy</span><span class="p">).</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">WARNING</span><span class="o">:</span> <span class="nx">If</span> <span class="nx">you</span> <span class="nx">have</span> <span class="nx">slaves</span> <span class="nx">attached</span> <span class="nx">to</span> <span class="nx">an</span> <span class="nx">instance</span> <span class="kd">with</span> <span class="nx">maxmemory</span> <span class="nx">on</span><span class="p">,</span>
<span class="err">#</span> <span class="nx">the</span> <span class="nx">size</span> <span class="nx">of</span> <span class="nx">the</span> <span class="nx">output</span> <span class="nx">buffers</span> <span class="nx">needed</span> <span class="nx">to</span> <span class="nx">feed</span> <span class="nx">the</span> <span class="nx">slaves</span> <span class="nx">are</span> <span class="nx">subtracted</span>
<span class="err">#</span> <span class="nx">from</span> <span class="nx">the</span> <span class="nx">used</span> <span class="nx">memory</span> <span class="nx">count</span><span class="p">,</span> <span class="nx">so</span> <span class="nx">that</span> <span class="nx">network</span> <span class="nx">problems</span> <span class="o">/</span> <span class="nx">resyncs</span> <span class="nx">will</span>
<span class="err">#</span> <span class="nx">not</span> <span class="nx">trigger</span> <span class="nx">a</span> <span class="nx">loop</span> <span class="nx">where</span> <span class="nx">keys</span> <span class="nx">are</span> <span class="nx">evicted</span><span class="p">,</span> <span class="nx">and</span> <span class="k">in</span> <span class="nx">turn</span> <span class="nx">the</span> <span class="nx">output</span>
<span class="err">#</span> <span class="nx">buffer</span> <span class="nx">of</span> <span class="nx">slaves</span> <span class="nx">is</span> <span class="nx">full</span> <span class="kd">with</span> <span class="nx">DELs</span> <span class="nx">of</span> <span class="nx">keys</span> <span class="nx">evicted</span> <span class="nx">triggering</span> <span class="nx">the</span> <span class="nx">deletion</span>
<span class="err">#</span> <span class="nx">of</span> <span class="nx">more</span> <span class="nx">keys</span><span class="p">,</span> <span class="nx">and</span> <span class="nx">so</span> <span class="nx">forth</span> <span class="nx">until</span> <span class="nx">the</span> <span class="nx">database</span> <span class="nx">is</span> <span class="nx">completely</span> <span class="nx">emptied</span><span class="p">.</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">In</span> <span class="kr">short</span><span class="p">...</span> <span class="k">if</span> <span class="nx">you</span> <span class="nx">have</span> <span class="nx">slaves</span> <span class="nx">attached</span> <span class="nx">it</span> <span class="nx">is</span> <span class="nx">suggested</span> <span class="nx">that</span> <span class="nx">you</span> <span class="nx">set</span> <span class="nx">a</span> <span class="nx">lower</span>
<span class="err">#</span> <span class="nx">limit</span> <span class="k">for</span> <span class="nx">maxmemory</span> <span class="nx">so</span> <span class="nx">that</span> <span class="nx">there</span> <span class="nx">is</span> <span class="nx">some</span> <span class="nx">free</span> <span class="nx">RAM</span> <span class="nx">on</span> <span class="nx">the</span> <span class="nx">system</span> <span class="k">for</span> <span class="nx">slave</span>
<span class="err">#</span> <span class="nx">output</span> <span class="nx">buffers</span> <span class="p">(</span><span class="nx">but</span> <span class="k">this</span> <span class="nx">is</span> <span class="nx">not</span> <span class="nx">needed</span> <span class="k">if</span> <span class="nx">the</span> <span class="nx">policy</span> <span class="nx">is</span> <span class="s1">&#39;noeviction&#39;</span><span class="p">).</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">maxmemory</span> <span class="o">&lt;</span><span class="nx">bytes</span><span class="o">&gt;</span>
</pre></div>