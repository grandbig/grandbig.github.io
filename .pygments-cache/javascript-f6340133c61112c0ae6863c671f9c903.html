<div class="highlight"><pre><span class="err">#</span> <span class="nx">The</span> <span class="nx">client</span> <span class="nx">output</span> <span class="nx">buffer</span> <span class="nx">limits</span> <span class="nx">can</span> <span class="nx">be</span> <span class="nx">used</span> <span class="nx">to</span> <span class="nx">force</span> <span class="nx">disconnection</span> <span class="nx">of</span> <span class="nx">clients</span>
<span class="err">#</span> <span class="nx">that</span> <span class="nx">are</span> <span class="nx">not</span> <span class="nx">reading</span> <span class="nx">data</span> <span class="nx">from</span> <span class="nx">the</span> <span class="nx">server</span> <span class="nx">fast</span> <span class="nx">enough</span> <span class="k">for</span> <span class="nx">some</span> <span class="nx">reason</span> <span class="p">(</span><span class="nx">a</span>
<span class="err">#</span> <span class="nx">common</span> <span class="nx">reason</span> <span class="nx">is</span> <span class="nx">that</span> <span class="nx">a</span> <span class="nx">Pub</span><span class="o">/</span><span class="nx">Sub</span> <span class="nx">client</span> <span class="nx">can</span><span class="err">‘</span><span class="nx">t</span> <span class="nx">consume</span> <span class="nx">messages</span> <span class="nx">as</span> <span class="nx">fast</span> <span class="nx">as</span> <span class="nx">the</span>
<span class="err">#</span> <span class="nx">publisher</span> <span class="nx">can</span> <span class="nx">produce</span> <span class="nx">them</span><span class="p">).</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">The</span> <span class="nx">limit</span> <span class="nx">can</span> <span class="nx">be</span> <span class="nx">set</span> <span class="nx">differently</span> <span class="k">for</span> <span class="nx">the</span> <span class="nx">three</span> <span class="nx">different</span> <span class="nx">classes</span> <span class="nx">of</span> <span class="nx">clients</span><span class="o">:</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">normal</span> <span class="o">-&gt;</span> <span class="nx">normal</span> <span class="nx">clients</span>
<span class="err">#</span> <span class="nx">slave</span>  <span class="o">-&gt;</span> <span class="nx">slave</span> <span class="nx">clients</span> <span class="nx">and</span> <span class="nx">MONITOR</span> <span class="nx">clients</span>
<span class="err">#</span> <span class="nx">pubsub</span> <span class="o">-&gt;</span> <span class="nx">clients</span> <span class="nx">subscribed</span> <span class="nx">to</span> <span class="nx">at</span> <span class="nx">least</span> <span class="nx">one</span> <span class="nx">pubsub</span> <span class="nx">channel</span> <span class="nx">or</span> <span class="nx">pattern</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">The</span> <span class="nx">syntax</span> <span class="nx">of</span> <span class="nx">every</span> <span class="nx">client</span><span class="o">-</span><span class="nx">output</span><span class="o">-</span><span class="nx">buffer</span><span class="o">-</span><span class="nx">limit</span> <span class="nx">directive</span> <span class="nx">is</span> <span class="nx">the</span> <span class="nx">following</span><span class="o">:</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">client</span><span class="o">-</span><span class="nx">output</span><span class="o">-</span><span class="nx">buffer</span><span class="o">-</span><span class="nx">limit</span> <span class="o">&lt;</span><span class="kr">class</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">hard</span> <span class="nx">limit</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">soft</span> <span class="nx">limit</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">soft</span> <span class="nx">seconds</span><span class="o">&gt;</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">A</span> <span class="nx">client</span> <span class="nx">is</span> <span class="nx">immediately</span> <span class="nx">disconnected</span> <span class="nx">once</span> <span class="nx">the</span> <span class="nx">hard</span> <span class="nx">limit</span> <span class="nx">is</span> <span class="nx">reached</span><span class="p">,</span> <span class="nx">or</span> <span class="k">if</span>
<span class="err">#</span> <span class="nx">the</span> <span class="nx">soft</span> <span class="nx">limit</span> <span class="nx">is</span> <span class="nx">reached</span> <span class="nx">and</span> <span class="nx">remains</span> <span class="nx">reached</span> <span class="k">for</span> <span class="nx">the</span> <span class="nx">specified</span> <span class="nx">number</span> <span class="nx">of</span>
<span class="err">#</span> <span class="nx">seconds</span> <span class="p">(</span><span class="nx">continuously</span><span class="p">).</span>
<span class="err">#</span> <span class="nx">So</span> <span class="k">for</span> <span class="nx">instance</span> <span class="k">if</span> <span class="nx">the</span> <span class="nx">hard</span> <span class="nx">limit</span> <span class="nx">is</span> <span class="mi">32</span> <span class="nx">megabytes</span> <span class="nx">and</span> <span class="nx">the</span> <span class="nx">soft</span> <span class="nx">limit</span> <span class="nx">is</span>
<span class="err">#</span> <span class="mi">16</span> <span class="nx">megabytes</span> <span class="o">/</span> <span class="mi">10</span> <span class="nx">seconds</span><span class="p">,</span> <span class="nx">the</span> <span class="nx">client</span> <span class="nx">will</span> <span class="nx">get</span> <span class="nx">disconnected</span> <span class="nx">immediately</span>
<span class="err">#</span> <span class="k">if</span> <span class="nx">the</span> <span class="nx">size</span> <span class="nx">of</span> <span class="nx">the</span> <span class="nx">output</span> <span class="nx">buffers</span> <span class="nx">reach</span> <span class="mi">32</span> <span class="nx">megabytes</span><span class="p">,</span> <span class="nx">but</span> <span class="nx">will</span> <span class="nx">also</span> <span class="nx">get</span>
<span class="err">#</span> <span class="nx">disconnected</span> <span class="k">if</span> <span class="nx">the</span> <span class="nx">client</span> <span class="nx">reaches</span> <span class="mi">16</span> <span class="nx">megabytes</span> <span class="nx">and</span> <span class="nx">continuously</span> <span class="nx">overcomes</span>
<span class="err">#</span> <span class="nx">the</span> <span class="nx">limit</span> <span class="k">for</span> <span class="mi">10</span> <span class="nx">seconds</span><span class="p">.</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">By</span> <span class="k">default</span> <span class="nx">normal</span> <span class="nx">clients</span> <span class="nx">are</span> <span class="nx">not</span> <span class="nx">limited</span> <span class="nx">because</span> <span class="nx">they</span> <span class="nx">don</span><span class="err">‘</span><span class="nx">t</span> <span class="nx">receive</span> <span class="nx">data</span>
<span class="err">#</span> <span class="nx">without</span> <span class="nx">asking</span> <span class="p">(</span><span class="k">in</span> <span class="nx">a</span> <span class="nx">push</span> <span class="nx">way</span><span class="p">),</span> <span class="nx">but</span> <span class="nx">just</span> <span class="nx">after</span> <span class="nx">a</span> <span class="nx">request</span><span class="p">,</span> <span class="nx">so</span> <span class="nx">only</span>
<span class="err">#</span> <span class="nx">asynchronous</span> <span class="nx">clients</span> <span class="nx">may</span> <span class="nx">create</span> <span class="nx">a</span> <span class="nx">scenario</span> <span class="nx">where</span> <span class="nx">data</span> <span class="nx">is</span> <span class="nx">requested</span> <span class="nx">faster</span>
<span class="err">#</span> <span class="nx">than</span> <span class="nx">it</span> <span class="nx">can</span> <span class="nx">read</span><span class="p">.</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">Instead</span> <span class="nx">there</span> <span class="nx">is</span> <span class="nx">a</span> <span class="k">default</span> <span class="nx">limit</span> <span class="k">for</span> <span class="nx">pubsub</span> <span class="nx">and</span> <span class="nx">slave</span> <span class="nx">clients</span><span class="p">,</span> <span class="nx">since</span>
<span class="err">#</span> <span class="nx">subscribers</span> <span class="nx">and</span> <span class="nx">slaves</span> <span class="nx">receive</span> <span class="nx">data</span> <span class="k">in</span> <span class="nx">a</span> <span class="nx">push</span> <span class="nx">fashion</span><span class="p">.</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">Both</span> <span class="nx">the</span> <span class="nx">hard</span> <span class="nx">or</span> <span class="nx">the</span> <span class="nx">soft</span> <span class="nx">limit</span> <span class="nx">can</span> <span class="nx">be</span> <span class="nx">disabled</span> <span class="nx">by</span> <span class="nx">setting</span> <span class="nx">them</span> <span class="nx">to</span> <span class="nx">zero</span><span class="p">.</span>
<span class="nx">client</span><span class="o">-</span><span class="nx">output</span><span class="o">-</span><span class="nx">buffer</span><span class="o">-</span><span class="nx">limit</span> <span class="nx">normal</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>
<span class="nx">client</span><span class="o">-</span><span class="nx">output</span><span class="o">-</span><span class="nx">buffer</span><span class="o">-</span><span class="nx">limit</span> <span class="nx">slave</span> <span class="mi">256</span><span class="nx">mb</span> <span class="mi">64</span><span class="nx">mb</span> <span class="mi">60</span>
<span class="nx">client</span><span class="o">-</span><span class="nx">output</span><span class="o">-</span><span class="nx">buffer</span><span class="o">-</span><span class="nx">limit</span> <span class="nx">pubsub</span> <span class="mi">32</span><span class="nx">mb</span> <span class="mi">8</span><span class="nx">mb</span> <span class="mi">60</span>
</pre></div>