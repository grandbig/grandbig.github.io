<div class="highlight"><pre><span class="err">#</span>
<span class="err">#</span> <span class="nx">These</span> <span class="nx">groups</span> <span class="nx">are</span> <span class="nx">read</span> <span class="nx">by</span> <span class="nx">MariaDB</span> <span class="nx">server</span><span class="p">.</span>
<span class="err">#</span> <span class="nx">Use</span> <span class="nx">it</span> <span class="k">for</span> <span class="nx">options</span> <span class="nx">that</span> <span class="nx">only</span> <span class="nx">the</span> <span class="nx">server</span> <span class="p">(</span><span class="nx">but</span> <span class="nx">not</span> <span class="nx">clients</span><span class="p">)</span> <span class="nx">should</span> <span class="nx">see</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">See</span> <span class="nx">the</span> <span class="nx">examples</span> <span class="nx">of</span> <span class="nx">server</span> <span class="nx">my</span><span class="p">.</span><span class="nx">cnf</span> <span class="nx">files</span> <span class="k">in</span> <span class="err">/usr/share/mysql/</span>
<span class="err">#</span>

<span class="err">#</span> <span class="k">this</span> <span class="nx">is</span> <span class="nx">read</span> <span class="nx">by</span> <span class="nx">the</span> <span class="nx">standalone</span> <span class="nx">daemon</span> <span class="nx">and</span> <span class="nx">embedded</span> <span class="nx">servers</span>
<span class="p">[</span><span class="nx">server</span><span class="p">]</span>

<span class="err">#</span> <span class="k">this</span> <span class="nx">is</span> <span class="nx">only</span> <span class="k">for</span> <span class="nx">the</span> <span class="nx">mysqld</span> <span class="nx">standalone</span> <span class="nx">daemon</span>
<span class="p">[</span><span class="nx">mysqld</span><span class="p">]</span>

<span class="err">#</span>
<span class="err">#</span> <span class="o">*</span> <span class="nx">Basic</span> <span class="nx">Settings</span>
<span class="err">#</span>
<span class="nx">user</span>            <span class="o">=</span> <span class="nx">mysql</span>
<span class="nx">pid</span><span class="o">-</span><span class="nx">file</span>        <span class="o">=</span> <span class="err">/var/run/mysqld/mysqld.pid</span>
<span class="nx">socket</span>          <span class="o">=</span> <span class="err">/var/run/mysqld/mysqld.sock</span>
<span class="nx">port</span>            <span class="o">=</span> <span class="mi">3306</span>
<span class="nx">basedir</span>         <span class="o">=</span> <span class="err">/usr</span>
<span class="nx">datadir</span>         <span class="o">=</span> <span class="err">/var/lib/mysql</span>
<span class="nx">tmpdir</span>          <span class="o">=</span> <span class="err">/tmp</span>
<span class="nx">lc</span><span class="o">-</span><span class="nx">messages</span><span class="o">-</span><span class="nx">dir</span> <span class="o">=</span> <span class="err">/usr/share/mysql</span>
<span class="nx">skip</span><span class="o">-</span><span class="nx">external</span><span class="o">-</span><span class="nx">locking</span>

<span class="err">#</span> <span class="nx">Instead</span> <span class="nx">of</span> <span class="nx">skip</span><span class="o">-</span><span class="nx">networking</span> <span class="nx">the</span> <span class="k">default</span> <span class="nx">is</span> <span class="nx">now</span> <span class="nx">to</span> <span class="nx">listen</span> <span class="nx">only</span> <span class="nx">on</span>
<span class="err">#</span> <span class="nx">localhost</span> <span class="nx">which</span> <span class="nx">is</span> <span class="nx">more</span> <span class="nx">compatible</span> <span class="nx">and</span> <span class="nx">is</span> <span class="nx">not</span> <span class="nx">less</span> <span class="nx">secure</span><span class="p">.</span>
<span class="nx">bind</span><span class="o">-</span><span class="nx">address</span>            <span class="o">=</span> <span class="mf">127.0</span><span class="p">.</span><span class="mf">0.1</span>

<span class="err">#</span>
<span class="err">#</span> <span class="o">*</span> <span class="nx">Fine</span> <span class="nx">Tuning</span>
<span class="err">#</span>
<span class="nx">key_buffer_size</span>         <span class="o">=</span> <span class="mi">16</span><span class="nx">M</span>
<span class="nx">max_allowed_packet</span>      <span class="o">=</span> <span class="mi">16</span><span class="nx">M</span>
<span class="nx">thread_stack</span>            <span class="o">=</span> <span class="mi">192</span><span class="nx">K</span>
<span class="nx">thread_cache_size</span>       <span class="o">=</span> <span class="mi">8</span>
<span class="err">#</span> <span class="nx">This</span> <span class="nx">replaces</span> <span class="nx">the</span> <span class="nx">startup</span> <span class="nx">script</span> <span class="nx">and</span> <span class="nx">checks</span> <span class="nx">MyISAM</span> <span class="nx">tables</span> <span class="k">if</span> <span class="nx">needed</span>
<span class="err">#</span> <span class="nx">the</span> <span class="nx">first</span> <span class="nx">time</span> <span class="nx">they</span> <span class="nx">are</span> <span class="nx">touched</span>
<span class="nx">myisam</span><span class="o">-</span><span class="nx">recover</span>         <span class="o">=</span> <span class="nx">BACKUP</span>
<span class="err">#</span><span class="nx">max_connections</span>        <span class="o">=</span> <span class="mi">100</span>
<span class="err">#</span><span class="nx">table_cache</span>            <span class="o">=</span> <span class="mi">64</span>
<span class="err">#</span><span class="nx">thread_concurrency</span>     <span class="o">=</span> <span class="mi">10</span>

<span class="err">#</span>
<span class="err">#</span> <span class="o">*</span> <span class="nx">Query</span> <span class="nx">Cache</span> <span class="nx">Configuration</span>
<span class="err">#</span>
<span class="nx">query_cache_limit</span>       <span class="o">=</span> <span class="mi">1</span><span class="nx">M</span>
<span class="nx">query_cache_size</span>        <span class="o">=</span> <span class="mi">16</span><span class="nx">M</span>

<span class="err">#</span>
<span class="err">#</span> <span class="o">*</span> <span class="nx">Logging</span> <span class="nx">and</span> <span class="nx">Replication</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">Both</span> <span class="nx">location</span> <span class="nx">gets</span> <span class="nx">rotated</span> <span class="nx">by</span> <span class="nx">the</span> <span class="nx">cronjob</span><span class="p">.</span>
<span class="err">#</span> <span class="nx">Be</span> <span class="nx">aware</span> <span class="nx">that</span> <span class="k">this</span> <span class="nx">log</span> <span class="nx">type</span> <span class="nx">is</span> <span class="nx">a</span> <span class="nx">performance</span> <span class="nx">killer</span><span class="p">.</span>
<span class="err">#</span> <span class="nx">As</span> <span class="nx">of</span> <span class="mf">5.1</span> <span class="nx">you</span> <span class="nx">can</span> <span class="nx">enable</span> <span class="nx">the</span> <span class="nx">log</span> <span class="nx">at</span> <span class="nx">runtime</span><span class="o">!</span>
<span class="err">#</span><span class="nx">general_log_file</span>        <span class="o">=</span> <span class="err">/var/log/mysql/mysql.log</span>
<span class="err">#</span><span class="nx">general_log</span>             <span class="o">=</span> <span class="mi">1</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nb">Error</span> <span class="nx">log</span> <span class="o">-</span> <span class="nx">should</span> <span class="nx">be</span> <span class="nx">very</span> <span class="nx">few</span> <span class="nx">entries</span><span class="p">.</span>
<span class="err">#</span>
<span class="nx">log_error</span> <span class="o">=</span> <span class="err">/var/log/mysql/error.log</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">Enable</span> <span class="nx">the</span> <span class="nx">slow</span> <span class="nx">query</span> <span class="nx">log</span> <span class="nx">to</span> <span class="nx">see</span> <span class="nx">queries</span> <span class="kd">with</span> <span class="nx">especially</span> <span class="kr">long</span> <span class="nx">duration</span>
<span class="err">#</span><span class="nx">slow_query_log_file</span>    <span class="o">=</span> <span class="err">/var/log/mysql/mariadb-slow.log</span>
<span class="err">#</span><span class="nx">long_query_time</span> <span class="o">=</span> <span class="mi">10</span>
<span class="err">#</span><span class="nx">log_slow_rate_limit</span>    <span class="o">=</span> <span class="mi">1000</span>
<span class="err">#</span><span class="nx">log_slow_verbosity</span>     <span class="o">=</span> <span class="nx">query_plan</span>
<span class="err">#</span><span class="nx">log</span><span class="o">-</span><span class="nx">queries</span><span class="o">-</span><span class="nx">not</span><span class="o">-</span><span class="nx">using</span><span class="o">-</span><span class="nx">indexes</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">The</span> <span class="nx">following</span> <span class="nx">can</span> <span class="nx">be</span> <span class="nx">used</span> <span class="nx">as</span> <span class="nx">easy</span> <span class="nx">to</span> <span class="nx">replay</span> <span class="nx">backup</span> <span class="nx">logs</span> <span class="nx">or</span> <span class="k">for</span> <span class="nx">replication</span><span class="p">.</span>
<span class="err">#</span> <span class="nx">note</span><span class="o">:</span> <span class="k">if</span> <span class="nx">you</span> <span class="nx">are</span> <span class="nx">setting</span> <span class="nx">up</span> <span class="nx">a</span> <span class="nx">replication</span> <span class="nx">slave</span><span class="p">,</span> <span class="nx">see</span> <span class="nx">README</span><span class="p">.</span><span class="nx">Debian</span> <span class="nx">about</span>
<span class="err">#</span>       <span class="nx">other</span> <span class="nx">settings</span> <span class="nx">you</span> <span class="nx">may</span> <span class="nx">need</span> <span class="nx">to</span> <span class="nx">change</span><span class="p">.</span>
<span class="err">#</span><span class="nx">server</span><span class="o">-</span><span class="nx">id</span>              <span class="o">=</span> <span class="mi">1</span>
<span class="err">#</span><span class="nx">log_bin</span>                        <span class="o">=</span> <span class="err">/var/log/mysql/mysql-bin.log</span>
<span class="nx">expire_logs_days</span>        <span class="o">=</span> <span class="mi">10</span>
<span class="nx">max_binlog_size</span>   <span class="o">=</span> <span class="mi">100</span><span class="nx">M</span>
<span class="err">#</span><span class="nx">binlog_do_db</span>           <span class="o">=</span> <span class="nx">include_database_name</span>
<span class="err">#</span><span class="nx">binlog_ignore_db</span>       <span class="o">=</span> <span class="nx">include_database_name</span>

<span class="err">#</span>
<span class="err">#</span> <span class="o">*</span> <span class="nx">InnoDB</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">InnoDB</span> <span class="nx">is</span> <span class="nx">enabled</span> <span class="nx">by</span> <span class="k">default</span> <span class="kd">with</span> <span class="nx">a</span> <span class="mi">10</span><span class="nx">MB</span> <span class="nx">datafile</span> <span class="k">in</span> <span class="err">/var/lib/mysql/.</span>
<span class="err">#</span> <span class="nx">Read</span> <span class="nx">the</span> <span class="nx">manual</span> <span class="k">for</span> <span class="nx">more</span> <span class="nx">InnoDB</span> <span class="nx">related</span> <span class="nx">options</span><span class="p">.</span> <span class="nx">There</span> <span class="nx">are</span> <span class="nx">many</span><span class="o">!</span>

<span class="err">#</span>
<span class="err">#</span> <span class="o">*</span> <span class="nx">Security</span> <span class="nx">Features</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">Read</span> <span class="nx">the</span> <span class="nx">manual</span><span class="p">,</span> <span class="nx">too</span><span class="p">,</span> <span class="k">if</span> <span class="nx">you</span> <span class="nx">want</span> <span class="nx">chroot</span><span class="o">!</span>
<span class="err">#</span> <span class="nx">chroot</span> <span class="o">=</span> <span class="err">/var/lib/mysql/</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">For</span> <span class="nx">generating</span> <span class="nx">SSL</span> <span class="nx">certificates</span> <span class="nx">I</span> <span class="nx">recommend</span> <span class="nx">the</span> <span class="nx">OpenSSL</span> <span class="nx">GUI</span> <span class="s2">&quot;tinyca&quot;</span><span class="p">.</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">ssl</span><span class="o">-</span><span class="nx">ca</span><span class="o">=</span><span class="err">/etc/mysql/cacert.pem</span>
<span class="err">#</span> <span class="nx">ssl</span><span class="o">-</span><span class="nx">cert</span><span class="o">=</span><span class="err">/etc/mysql/server-cert.pem</span>
<span class="err">#</span> <span class="nx">ssl</span><span class="o">-</span><span class="nx">key</span><span class="o">=</span><span class="err">/etc/mysql/server-key.pem</span>

<span class="err">#</span>
<span class="err">#</span> <span class="o">*</span> <span class="nx">Character</span> <span class="nx">sets</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">MySQL</span><span class="o">/</span><span class="nx">MariaDB</span> <span class="k">default</span> <span class="nx">is</span> <span class="nx">Latin1</span><span class="p">,</span> <span class="nx">but</span> <span class="k">in</span> <span class="nx">Debian</span> <span class="nx">we</span> <span class="nx">rather</span> <span class="k">default</span> <span class="nx">to</span> <span class="nx">the</span> <span class="nx">full</span>
<span class="err">#</span> <span class="nx">utf8</span> <span class="mi">4</span><span class="o">-</span><span class="kr">byte</span> <span class="nx">character</span> <span class="nx">set</span><span class="p">.</span> <span class="nx">See</span> <span class="nx">also</span> <span class="nx">client</span><span class="p">.</span><span class="nx">cnf</span>
<span class="err">#</span>
<span class="nx">character</span><span class="o">-</span><span class="nx">set</span><span class="o">-</span><span class="nx">server</span>  <span class="o">=</span> <span class="nx">utf8mb4</span>
<span class="nx">collation</span><span class="o">-</span><span class="nx">server</span>      <span class="o">=</span> <span class="nx">utf8mb4_general_ci</span>

<span class="err">#</span>
<span class="err">#</span> <span class="o">*</span> <span class="nx">Unix</span> <span class="nx">socket</span> <span class="nx">authentication</span> <span class="nx">plugin</span> <span class="nx">is</span> <span class="nx">built</span><span class="o">-</span><span class="k">in</span> <span class="nx">since</span> <span class="mf">10.0</span><span class="p">.</span><span class="mi">22</span><span class="o">-</span><span class="mi">6</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">Needed</span> <span class="nx">so</span> <span class="nx">the</span> <span class="nx">root</span> <span class="nx">database</span> <span class="nx">user</span> <span class="nx">can</span> <span class="nx">authenticate</span> <span class="nx">without</span> <span class="nx">a</span> <span class="nx">password</span> <span class="nx">but</span>
<span class="err">#</span> <span class="nx">only</span> <span class="nx">when</span> <span class="nx">running</span> <span class="nx">as</span> <span class="nx">the</span> <span class="nx">unix</span> <span class="nx">root</span> <span class="nx">user</span><span class="p">.</span>
<span class="err">#</span>
<span class="err">#</span> <span class="nx">Also</span> <span class="nx">available</span> <span class="k">for</span> <span class="nx">other</span> <span class="nx">users</span> <span class="k">if</span> <span class="nx">required</span><span class="p">.</span>
<span class="err">#</span> <span class="nx">See</span> <span class="nx">https</span><span class="o">:</span><span class="c1">//mariadb.com/kb/en/unix_socket-authentication-plugin/</span>

<span class="err">#</span> <span class="k">this</span> <span class="nx">is</span> <span class="nx">only</span> <span class="k">for</span> <span class="nx">embedded</span> <span class="nx">server</span>
<span class="p">[</span><span class="nx">embedded</span><span class="p">]</span>

<span class="err">#</span> <span class="nx">This</span> <span class="nx">group</span> <span class="nx">is</span> <span class="nx">only</span> <span class="nx">read</span> <span class="nx">by</span> <span class="nx">MariaDB</span> <span class="nx">servers</span><span class="p">,</span> <span class="nx">not</span> <span class="nx">by</span> <span class="nx">MySQL</span><span class="p">.</span>
<span class="err">#</span> <span class="nx">If</span> <span class="nx">you</span> <span class="nx">use</span> <span class="nx">the</span> <span class="nx">same</span> <span class="p">.</span><span class="nx">cnf</span> <span class="nx">file</span> <span class="k">for</span> <span class="nx">MySQL</span> <span class="nx">and</span> <span class="nx">MariaDB</span><span class="p">,</span>
<span class="err">#</span> <span class="nx">you</span> <span class="nx">can</span> <span class="nx">put</span> <span class="nx">MariaDB</span><span class="o">-</span><span class="nx">only</span> <span class="nx">options</span> <span class="nx">here</span>
<span class="p">[</span><span class="nx">mariadb</span><span class="p">]</span>

<span class="err">#</span> <span class="nx">This</span> <span class="nx">group</span> <span class="nx">is</span> <span class="nx">only</span> <span class="nx">read</span> <span class="nx">by</span> <span class="nx">MariaDB</span><span class="o">-</span><span class="mf">10.0</span> <span class="nx">servers</span><span class="p">.</span>
<span class="err">#</span> <span class="nx">If</span> <span class="nx">you</span> <span class="nx">use</span> <span class="nx">the</span> <span class="nx">same</span> <span class="p">.</span><span class="nx">cnf</span> <span class="nx">file</span> <span class="k">for</span> <span class="nx">MariaDB</span> <span class="nx">of</span> <span class="nx">different</span> <span class="nx">versions</span><span class="p">,</span>
<span class="err">#</span> <span class="nx">use</span> <span class="k">this</span> <span class="nx">group</span> <span class="k">for</span> <span class="nx">options</span> <span class="nx">that</span> <span class="nx">older</span> <span class="nx">servers</span> <span class="nx">don</span><span class="err">‘</span><span class="nx">t</span> <span class="nx">understand</span>
<span class="p">[</span><span class="nx">mariadb</span><span class="o">-</span><span class="mf">10.0</span><span class="p">]</span>
</pre></div>