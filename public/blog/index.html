
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Takahiro Octopress Blog</title>
  <meta name="author" content="Takahiro">

  
  <meta name="description" content="はじめに iOS13からダークモードがiPhoneにも追加され、ユーザニーズからアプリ側でもダークモード対応を必要とされる場面が増えてきました。
一方でiOS12以前のOSをサポートする必要がある場合がほとんどかと思います。 「iOS12ではダークモードが利用できないので、 &hellip;">
  
  <meta name="google-site-verification" content="h2JWV1Gq5wVvtkoCC7o7IEPIVqaLWigK5aaxuRom6os" />

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://grandbig.github.io/blog/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Takahiro Octopress Blog" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-44313398-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Takahiro Octopress Blog</a></h1>
  
    <h2>-1から始める情弱プログラミング</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:grandbig.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      


    <article class="post">
  <header>
    
      <h1 class="entry-title"><a href="/blog/2020/04/18/color/">Color AssetとコードでiOS13の色のダークモード対応</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2020-04-18T10:38:00+09:00" pubdate data-updated="true">Apr 18<span>th</span>, 2020</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>はじめに</h3>

<p>iOS13からダークモードがiPhoneにも追加され、ユーザニーズからアプリ側でもダークモード対応を必要とされる場面が増えてきました。<br/>
一方でiOS12以前のOSをサポートする必要がある場合がほとんどかと思います。</p>

<p>「iOS12ではダークモードが利用できないので、ダークモードが導入できないのでは？」</p>

<p>と思う方がいる可能性を踏まえて、<br/>
本日は、今更ではありますが、旧OSをサポートしながらダークモード対応するための <code>Color</code> 定義について見ていきたいと思います。</p>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>


<p><ins class="adsbygoogle"style="display:inline-block;width:320px;height:100px"data-ad-client="ca-pub-2881241309408290"data-ad-slot="6603059167"></ins></p>

<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>




</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2020/04/18/color/">Read on &rarr;</a>
    </footer>
  

</article>


    <article class="post">
  <header>
    
      <h1 class="entry-title"><a href="/blog/2020/03/28/xcode11-4/">Xcode11.4でやっと修正されたドキュメントコメントの挿入ショートカット</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2020-03-28T23:26:00+09:00" pubdate data-updated="true">Mar 28<span>th</span>, 2020</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>はじめに</h3>

<p>XcodeでiOSアプリを開発する際に、ほとんどの開発者はドキュメントコメントを書く機会があると思います。</p>

<p>Xcodeでは、メニューバーから<br/>
<code>Editor &gt; Structure &gt; Add Documentation</code>
を選択すると、最適な形式のドキュメントコメントを差し込んでくれます。<br/>
( または、<code>command + option + /</code> でショートカットできます。 )</p>

<p>実はこの機能が困ったことにXcode11当初でバグがありました。</p>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>


<p><ins class="adsbygoogle"style="display:inline-block;width:320px;height:100px"data-ad-client="ca-pub-2881241309408290"data-ad-slot="6603059167"></ins></p>

<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>




</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2020/03/28/xcode11-4/">Read on &rarr;</a>
    </footer>
  

</article>


    <article class="post">
  <header>
    
      <h1 class="entry-title"><a href="/blog/2020/02/22/swiftui-1/">SwiftUIの基礎を理解しよう！(1)〜簡単な装飾とボタンアクション〜</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2020-02-22T17:59:00+09:00" pubdate data-updated="true">Feb 22<span>nd</span>, 2020</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>はじめに</h3>

<p>さて、本日はXcode11から新規似追加された <code>SwiftUI</code> によるiOSアプリ開発について勉強していきたいと思います。</p>

<p>筆者がぱっと見る限り、 <code>SwiftUI</code> は、</p>

<ul>
<li>ホットリロードによる手動ビルドの手間の改善</li>
<li><code>xib</code> や <code>storyboard</code> によるUI実装のレビューの難しさの解消</li>
</ul>


<p>に一役買っていると感じました。</p>

<p>また、 <code>SwiftUI</code> での書き方自体は、<br/>
これまでのiOSアプリの書き方に慣れている人にとっては、やはりそれなりの準備期間は必要になりそうです。<br/>
( <code>RxSwift</code> 使いの方々にとっては比較的とっかかりやすいという話もあります。 )</p>

<p>ということもあり、<br/>
実際の業務にて <code>SwiftUI</code> を利用するシーンはまだそこまで増えることはないかもしれませんが、<br/>
iOSアプリ開発の実装方法の幅を増やすに越したことはないでしょう。</p>

<p>では、少しずつ <code>SwiftUI</code> について勉強していきたいと思います。</p>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>


<p><ins class="adsbygoogle"style="display:inline-block;width:320px;height:100px"data-ad-client="ca-pub-2881241309408290"data-ad-slot="6603059167"></ins></p>

<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>




</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2020/02/22/swiftui-1/">Read on &rarr;</a>
    </footer>
  

</article>


    <article class="post">
  <header>
    
      <h1 class="entry-title"><a href="/blog/2020/01/19/scade-hello-world/">SwiftでiOS&Androidアプリを開発！？〜Scadeチュートリアル〜</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2020-01-19T01:07:00+09:00" pubdate data-updated="true">Jan 19<span>th</span>, 2020</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>はじめに</h3>

<p>昨今、 <code>Flutter</code> や <code>React Native</code> などによるiOSアプリとAndroidアプリの同時作成が少しずつ現実的に実践されるようになってきており、<br/>
筆者的には、2010年代前半以来のリブームのように感じられる今日此頃です。</p>

<p>2010年代前半は、Facebookを筆頭に、最終的にはフルネイティブに舵を切り直すプロダクトが多かったイメージがあるのですが、<br/>
各種OSの浸透および安定化に伴い、今回の流れはある程度続く可能性があるのではと思わずにはいられません。</p>

<p>しかしながら、 <code>Flutter</code> は <code>Dart</code> というGoogle製の言語を利用し、<br/>
<code>React Native</code> は <code>JavaScript</code> および <code>React</code> の知識が必要になります。</p>

<p> 既に <code>Swift</code> でのiOSアプリの開発や <code>Kotlin</code> によるAndroidアプリの開発に慣れているエンジニアであれば、<br/>
 言語書式が比較的似ていることから、OSやIDEの違いさえ把握できれば学習コストは大幅に抑えられる可能性があります。</p>

<p> 一方で、それでは両OSアプリの同時作成の恩恵に預かることができないため、<br/>
 何か良いものがないかな〜と思っていたところ、<br/>
『 <a href="https://www.infoq.com/jp/news/2019/08/scade-swift-android-development/">Scadeは、Swiftを使用してAndroidアプリ開発を可能にすることを目指す</a>』という記事を見つけました。</p>

<p>これは面白そうだなということで、今回は<a href="https://www.scade.io/">Scade</a>について見てみたいと思います。</p>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>


<p><ins class="adsbygoogle"style="display:inline-block;width:320px;height:100px"data-ad-client="ca-pub-2881241309408290"data-ad-slot="6603059167"></ins></p>

<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>




</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2020/01/19/scade-hello-world/">Read on &rarr;</a>
    </footer>
  

</article>


    <article class="post">
  <header>
    
      <h1 class="entry-title"><a href="/blog/2019/12/22/ios13-core-location/">iOS13におけるCoreLocationの変更点〜常に許可/使用中のみ許可/一時的に許可〜</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2019-12-22T00:00:00+09:00" pubdate data-updated="true">Dec 22<span>nd</span>, 2019</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>はじめに</h3>

<p>「<a href="https://qiita.com/advent-calendar/2019/ios-2">iOS #2 Advent Calendar 2019</a>」の22日目の記事です。</p>

<p>筆者がiOSアプリの開発を始めたのは、約8年ほど前でしょうか。<br/>
iOS史上でも初期から強力な機能だったこともあってか、当時はiOSアプリに位置情報の機能を載せることが流行っており、<br/>
筆者も漏れなく位置情報に関する調査や機能実装を永遠とこなしていた気がします。</p>

<p>今年でiOSもバージョン <code>13</code> となり、昔はなかった機能がたくさん登場しています。<br/>
新しい機能は当然、開発者の意欲を掻き立て、未知の世界をユーザに届けることに寄与することでしょう。<br/>
ただ、位置情報に人一倍強い思いがあることを自負している筆者ですから、<br/>
iOS13が出た今でも位置情報に関する仕様変更があることには感動もひとしおです。</p>

<p>今日は、iOS13からの位置情報に関する仕様変更を『<a href="https://developer.apple.com/videos/play/wwdc2019/705/">WWDC2019 &ndash; What&rsquo;s New in Core Location</a>』を元に紹介して1年を締めくくりたいと思います。</p>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>


<p><ins class="adsbygoogle"style="display:inline-block;width:320px;height:100px"data-ad-client="ca-pub-2881241309408290"data-ad-slot="6603059167"></ins></p>

<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>




</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2019/12/22/ios13-core-location/">Read on &rarr;</a>
    </footer>
  

</article>


    <article class="post">
  <header>
    
      <h1 class="entry-title"><a href="/blog/2019/11/23/cocoapods-1-7/">Xcode10以降からは、CocoaPods v1.7.0以上を使ってInput/Output File Listsを活用しよう！</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2019-11-23T23:05:00+09:00" pubdate data-updated="true">Nov 23<span>rd</span>, 2019</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>はじめに</h3>

<p><code>CocoaPods</code> はiOSアプリエンジニアであれば誰もが知るライブラリ管理ツールだと思いますが、<br/>
<code>v1.7.0</code> 以降では <code>xcfilelist</code> を <code>Input/Output File Lists</code> で指定できるようになりました。<br/>
( <a href="http://blog.cocoapods.org/CocoaPods-1.7.0-beta/#.xcfilelist-support">CocoaPods Blog &ndash; CocoaPods 1.7.0 Beta!</a> )</p>

<p><code>Input/Output File Lists</code> とはXcode10で追加された <code>Input / Output Files</code> に代わる、<br/>
<code>xcfilelist</code> をパスとして指定できる新たな枠組みです。</p>

<p>既に <code>v1.8.4</code> までリリースされており、Xcodeも11まで上がっているので今更感はありますが、気になったので少し具体的に差分を見てみました。</p>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>


<p><ins class="adsbygoogle"style="display:inline-block;width:320px;height:100px"data-ad-client="ca-pub-2881241309408290"data-ad-slot="6603059167"></ins></p>

<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>




</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2019/11/23/cocoapods-1-7/">Read on &rarr;</a>
    </footer>
  

</article>


    <article class="post">
  <header>
    
      <h1 class="entry-title"><a href="/blog/2019/10/19/ios13-userdefaults/">iOS13で密かに追加されたUserDefaultsへの保存制限</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2019-10-19T16:49:00+09:00" pubdate data-updated="true">Oct 19<span>th</span>, 2019</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>はじめに</h3>

<p>先日ふと調べ物をしていたところ、<br/>
<a href="https://forums.developer.apple.com/thread/121527">iOS 13 &ndash; Attempting to store >= 4194304 bytes of data in CFPreferences/NSUserDefaults on this platform is invalid</a>
という何やら気になる話を見つけました。</p>

<p>どうも <code>iOS13</code> からは、 <code>UserDefaults</code> に保存できる容量が <code>4194304 bytes</code> と制限が追加されたようだと言うのです。<br/>
これは実際にやってみるっきゃない！ということで実験をしてみました。</p>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>


<p><ins class="adsbygoogle"style="display:inline-block;width:320px;height:100px"data-ad-client="ca-pub-2881241309408290"data-ad-slot="6603059167"></ins></p>

<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>




</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2019/10/19/ios13-userdefaults/">Read on &rarr;</a>
    </footer>
  

</article>


    <article class="post">
  <header>
    
      <h1 class="entry-title"><a href="/blog/2019/10/06/sign-in-with-apple/">iOS13から対応する『Sign in With Apple』〜サードパーティアカウントでOAuth認証によるログインを備えたアプリで迷わないように。〜</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2019-10-06T17:05:00+09:00" pubdate data-updated="true">Oct 6<span>th</span>, 2019</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>はじめに</h3>

<p>今回はiOS13から導入された <code>Sign In with Apple</code> について見ていきたいと思います。</p>

<p>もし、 <code>Facebook / Google / Twitter</code> などのアカウントを用いたログインを可能とする機能をアプリが持っている場合、<br/>
Appleが新たに提唱した <code>Sign In with Apple</code> の機能を実装する必要性が出てきたようです。</p>

<p>一方で <code>Facebook / Google / Twitter</code> などの本家のアプリでは恐らく実装する必要はないと思われます。<br/>
(ログイン機能を実装するのであれば、 <code>Sign In with Apple</code> が必須という話ではなく、サードパーティ製のログイン機能を持つアプリに限るようです。 )</p>

<p>とは言え、「急にそんなことを言われても対応工数がかかるし、他に実装したい機能もあるし&hellip;」と困るエンジニアもいるかもしれません。</p>

<p>ですが、 <code>Apple</code> が要求する以上、 iOSアプリを開発し続ける上で避けては通れない問題ですので、簡単に対応方法を紹介したいと思います。</p>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>


<p><ins class="adsbygoogle"style="display:inline-block;width:320px;height:100px"data-ad-client="ca-pub-2881241309408290"data-ad-slot="6603059167"></ins></p>

<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>




</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2019/10/06/sign-in-with-apple/">Read on &rarr;</a>
    </footer>
  

</article>


    <article class="post">
  <header>
    
      <h1 class="entry-title"><a href="/blog/2019/09/28/ios-devicetoken-2/">iOS13におけるプッシュ通知に必要なデバイストークンの取得方法</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2019-09-28T16:12:00+09:00" pubdate data-updated="true">Sep 28<span>th</span>, 2019</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>はじめに</h3>

<p>今回はiOS13のプッシュ通知用デバイストークンについて見ていきたいと思います。<br/>
<code>Swift</code> に関して言えば、歴史的変遷から、問題のない現場が多いと思うのですが、<br/>
<code>Objective-C</code> を中心に活用している現場では注意が必要かもしれません。</p>

<p>具体的には後述しますが、<br/>
<code>description</code> を利用してデバイストークンを取得する方式は <code>iOS13</code> から見直す必要がありそうです。</p>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>


<p><ins class="adsbygoogle"style="display:inline-block;width:320px;height:100px"data-ad-client="ca-pub-2881241309408290"data-ad-slot="6603059167"></ins></p>

<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>




</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2019/09/28/ios-devicetoken-2/">Read on &rarr;</a>
    </footer>
  

</article>


    <article class="post">
  <header>
    
      <h1 class="entry-title"><a href="/blog/2019/09/22/backgroundtasks/">iOS13から利用できるBackgroundTasksを使ってみよう！</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2019-09-22T17:09:00+09:00" pubdate data-updated="true">Sep 22<span>nd</span>, 2019</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>はじめに</h3>

<p>今回はiOS13で新たに追加された <code>BackgroundTasks Framework</code> について見ていきたいと思います。<br/>
基本的には、 <a href="https://developer.apple.com/videos/play/wwdc2019/707/">WWDC2019動画の『Advances in App Background Execution』</a>を見ながら実践してみました。</p>

<p>ですが、微妙に躓くところもあったのでメモとして残しておきたいと思います。</p>

<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>


<p><ins class="adsbygoogle"style="display:inline-block;width:320px;height:100px"data-ad-client="ca-pub-2881241309408290"data-ad-slot="6603059167"></ins></p>

<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>




</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2019/09/22/backgroundtasks/">Read on &rarr;</a>
    </footer>
  

</article>

<nav id="pagenavi">
    
    
        <a href="/blog/page/2/" class="next">Next</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav>
    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2020 - Takahiro -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
  - <span class="credit">Theme by <a href="http://www.gehaxelt.in">Gehaxelt</a></span>
  <span class="credit">and <a href="http://www.it-solutions-neef.de">IT Solutions Neef</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'takahirooctopressblog';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
